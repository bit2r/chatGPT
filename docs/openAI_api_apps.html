<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko">

<head>

<meta charset="utf-8" />
<meta name="generator" content="quarto-1.4.288" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />

<meta name="author" content="이광춘" />
<meta name="description" content="OpenAI API 환경을 갖춘 후에 본격적인 응용프로그램 개발을 시작해보자." />

<title>chatGPT – 챗GPT</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<!-- htmldependencies:E3FAD763 -->
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "keyboard-shortcut": [
    null
  ],
  "language": {
    "search-no-results-text": "일치 없음",
    "search-matching-documents-text": "일치된 문서",
    "search-copy-link-title": "검색 링크 복사",
    "search-hide-matches-text": "추가 검색 결과 숨기기",
    "search-more-match-text": "추가 검색결과",
    "search-more-matches-text": "추가 검색결과",
    "search-clear-button-title": "제거",
    "search-detached-cancel-button-title": "취소",
    "search-submit-button-title": "검색",
    "search-label": "검색"
  }
}</script>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-229551680-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>


<link rel="stylesheet" href="css/quarto.css" />
</head>

<body>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="/index.html">
    <span class="navbar-title">chatGPT</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="검색"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
  aria-controls="navbarCollapse" aria-expanded="false" aria-label="탐색 전환"
  onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-ai" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">생성 AI</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-ai">    
        <li>
    <a class="dropdown-item" href="/architecture.html" rel="" target="">
 <span class="dropdown-text">chatGPT 이해</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/trends.html" rel="" target="">
 <span class="dropdown-text">추세 트렌드</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/why_llm.html" rel="" target="">
 <span class="dropdown-text">왜 거대언어모형인가?</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/nlp_LLM.html" rel="" target="">
 <span class="dropdown-text">NLP와 LLM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/gpt4_performance.html" rel="" target="">
 <span class="dropdown-text">GPT-4 성능</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/gpt-security.html" rel="" target="">
 <span class="dropdown-text">챗GPT 보안사고</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/interface.html" rel="" target="">
 <span class="dropdown-text">인터페이스</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/open_source.html" rel="" target="">
 <span class="dropdown-text">오픈소스 S/W LLM</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-chatgpt-응용사례" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">chatGPT 응용사례</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-chatgpt-응용사례">    
        <li>
    <a class="dropdown-item" href="/use-cases.html" rel="" target="">
 <span class="dropdown-text">활용사례</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/intro_avi.html" rel="" target="">
 <span class="dropdown-text">법인 R 소개영상</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/macbook.html" rel="" target="">
 <span class="dropdown-text">맥북 투척사건</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/office.html" rel="" target="">
 <span class="dropdown-text">오피스 전쟁</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/news_article.html" rel="" target="">
 <span class="dropdown-text">보도자료 작성</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/intro_book.html" rel="" target="">
 <span class="dropdown-text">데이터 과학 책</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/intro_paper.html" rel="" target="">
 <span class="dropdown-text">논문 초록</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/rnd.html" rel="" target="">
 <span class="dropdown-text">학술연구(R&amp;D)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/yuji.html" rel="" target="">
 <span class="dropdown-text">멤버 Yuji</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/stable_diffusion.html" rel="" target="">
 <span class="dropdown-text">Stable Diffusion</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/text_to_images.html" rel="" target="">
 <span class="dropdown-text">Text-to-Images</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/text2image.html" rel="" target="">
 <span class="dropdown-text">`bitGPT` Text-to-Image</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/samsung.html" rel="" target="">
 <span class="dropdown-text">삼전 주가예측</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/calculator.html" rel="" target="">
 <span class="dropdown-text">계산기 프로그램</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/rcoding.html" rel="" target="">
 <span class="dropdown-text">GPT R 코딩개발</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/rcoding-copilot.html" rel="" target="">
 <span class="dropdown-text">부조종사 R 코딩개발</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/math.html" rel="" target="">
 <span class="dropdown-text">수학: MIT / 수능</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/middle_school.html" rel="" target="">
 <span class="dropdown-text">Shiny 앱</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/inaugural.html" rel="" target="">
 <span class="dropdown-text">대통령 취임사</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/translation.html" rel="" target="">
 <span class="dropdown-text">번역(영한, 한영)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/gg_grouping.html" rel="" target="">
 <span class="dropdown-text">챗GPT 팀구성</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/biz_number_API.html" rel="" target="">
 <span class="dropdown-text">사업자등록증 API (국세청)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-prompt-eng." role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Prompt Eng.</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-prompt-eng.">    
        <li>
    <a class="dropdown-item" href="/prompt.html" rel="" target="">
 <span class="dropdown-text">Prompt Engineering</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/prompt_adv.html" rel="" target="">
 <span class="dropdown-text">Advanced Prompt Engineering</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/prompt_in_practice.html" rel="" target="">
 <span class="dropdown-text">프롬프트 실무</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/prompt_for_develoopers.html" rel="" target="">
 <span class="dropdown-text">(개발자) 프롬프트 공학</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/prompt_data_science.html" rel="" target="">
 <span class="dropdown-text">데이터 과학 프롬프트</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/interview.html" rel="" target="">
 <span class="dropdown-text">데이터 과학 인터뷰</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">자동화/개발</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-">    
        <li>
    <a class="dropdown-item" href="/ide.html" rel="" target="">
 <span class="dropdown-text">통합개발환경(IDE)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/reticulate.html" rel="" target="">
 <span class="dropdown-text">파이썬 환경구축</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/openAI_api.html" rel="" target="">
 <span class="dropdown-text">OpenAI API 프로그래밍</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/openAI_api_apps.html" rel="" target="">
 <span class="dropdown-text">OpenAI API 응용프로그램</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/langchain_arch.html" rel="" target="">
 <span class="dropdown-text">LangCahin 아키텍쳐</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/whisper.html" rel="" target="">
 <span class="dropdown-text">오정보 음성인식(Whisper)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/news_release.html" rel="" target="">
 <span class="dropdown-text">오정보 요약</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/misinfo_embedding.html" rel="" target="">
 <span class="dropdown-text">오정보 임베딩</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/shiny_chatGPT.html" rel="" target="">
 <span class="dropdown-text">Shiny 챗GPT</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/palmer_penguins.html" rel="" target="">
 <span class="dropdown-text">펭귄 데이터셋</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/penguins_analytics.html" rel="" target="">
 <span class="dropdown-text">챗GPT 펭귄 데이터 분석</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/three_paradigm.html" rel="" target="">
 <span class="dropdown-text">AI 분석 도구</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/penguin_analysis.html" rel="" target="">
 <span class="dropdown-text">심슨 패러독스</span></a>
  </li>  
        <li class="dropdown-header">
 데이터 과학 AutoGPT</li>
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/pandasai.html" rel="" target="">
 <span class="dropdown-text">판다스 AI</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/llama_penguins.html" rel="" target="">
 <span class="dropdown-text">펭귄: 라마인덱스</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/sql_openai.html" rel="" target="">
 <span class="dropdown-text">챗GPT SQL</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="/hf.html" rel="" target="">
 <span class="dropdown-text">Hugging Face</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/hf_windows.html" rel="" target="">
 <span class="dropdown-text">Hugging Face(윈도우)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/hf_pipeline.html" rel="" target="">
 <span class="dropdown-text">HF 파이프라인</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/koGPT.html" rel="" target="">
 <span class="dropdown-text">HuggingfaceR - 모형통계</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/BERT.html" rel="" target="">
 <span class="dropdown-text">BERT</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/blog.html" rel="" target="">
 <span class="menu-text">게시글</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu--1" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">비즈니스</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu--1">    
        <li>
    <a class="dropdown-item" href="/chatGPT_overview.html" rel="" target="">
 <span class="dropdown-text">챗GPT 개요</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/bit2r/chatGPT" rel="" target=""><i 
  class="bi bi-github" 
  role="img" 
>
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://r2bit.com" rel="" target="">
 <span class="menu-text">R사용자회</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/LAION-AI/Open-Assistant" rel="" target=""><i 
  class="bi bi-github" 
  role="img" 
>
</i> 
 <span class="menu-text">Open Assistant</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://rtutor.ai/" rel="" target="">
 <span class="menu-text">RTutor</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="/about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="다크 모드 전환"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <div id="quarto-toc-target"></div>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
  <div class="quarto-title-banner">
    <div class="quarto-title column-body">
      <h1 class="title">챗GPT</h1>
            <p class="subtitle lead">OpenAI API 응용프로그램</p>
                  <div>
        <div class="description">
          <p>OpenAI API 환경을 갖춘 후에 본격적인 응용프로그램 개발을 시작해보자.</p>
        </div>
      </div>
                </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">저자</div>
    <div class="quarto-title-meta-heading">소속</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author"><a href="https://www.linkedin.com/in/kwangchunlee/">이광춘</a> </p>
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              <a href="https://github.com/bit2r">
              한국 R 사용자회
              </a>
            </p>
        </div>
      </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">공개</div>
      <div class="quarto-title-meta-contents">
        <p class="date">2023년 08월 08일</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header>
<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">목차</h2>
   
  <ul>
  <li><a href="#들어가며" id="toc-들어가며"><span class="header-section-number">1</span> 들어가며</a>
  <ul>
  <li><a href="#openai-패키지" id="toc-openai-패키지"><span class="header-section-number">1.1</span> <code>openai</code> 패키지</a></li>
  <li><a href="#gpt-4-모델" id="toc-gpt-4-모델"><span class="header-section-number">1.2</span> <code>gpt-4</code> 모델</a></li>
  </ul></li>
  <li><a href="#completion과-chatcompletion" id="toc-completion과-chatcompletion"><span class="header-section-number">2</span> <code>Completion</code>과 <code>ChatCompletion</code></a></li>
  <li><a href="#openai-모형" id="toc-openai-모형"><span class="header-section-number">3</span> <code>openai</code> 모형</a></li>
  <li><a href="#중재moderation" id="toc-중재moderation"><span class="header-section-number">4</span> 중재(Moderation)</a></li>
  <li><a href="#음성" id="toc-음성"><span class="header-section-number">5</span> 음성</a>
  <ul>
  <li><a href="#연설문-낭독" id="toc-연설문-낭독"><span class="header-section-number">5.1</span> 연설문 낭독</a></li>
  <li><a href="#mp3-텍스트" id="toc-mp3-텍스트"><span class="header-section-number">5.2</span> <code>.mp3</code> → 텍스트</a></li>
  <li><a href="#후처리" id="toc-후처리"><span class="header-section-number">5.3</span> 후처리</a></li>
  </ul></li>
  <li><a href="#번역" id="toc-번역"><span class="header-section-number">6</span> 번역</a></li>
  <li><a href="#뉴스기사-제작" id="toc-뉴스기사-제작"><span class="header-section-number">7</span> 뉴스기사 제작</a></li>
  <li><a href="#ai-이미지" id="toc-ai-이미지"><span class="header-section-number">8</span> AI 이미지</a>
  <ul>
  <li><a href="#ai-이미지-후처리" id="toc-ai-이미지-후처리"><span class="header-section-number">8.1</span> AI 이미지 후처리</a></li>
  </ul></li>
  <li><a href="#임베딩" id="toc-임베딩"><span class="header-section-number">9</span> 임베딩</a>
  <ul>
  <li><a href="#텍스트-벡터-표현" id="toc-텍스트-벡터-표현"><span class="header-section-number">9.1</span> 텍스트 벡터 표현</a></li>
  </ul></li>
  </ul>
</nav>
<section id="들어가며" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> 들어가며</h1>
<p><code>.env</code> 파일에 OpenAI API-KEY 를 저장한 경우 <code>.gitignore</code> 에 <code>.env</code>를 기록하여 협업과 공개를 할 경우 주요 정보가 외부에 노출 되지 않도록 주의한다.</p>
<section id="openai-패키지" class="level2" data-number="1.1">
<h2 data-number="1.1"><span class="header-section-number">1.1</span> <code>openai</code> 패키지</h2>
<p>GitHub 저장소 <a href="https://github.com/openai/openai-python">OpenAI Python Library</a>의 <code>openai</code> 파이썬 패키지를 설치한 후 버전을 확인한다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb1"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span> pip show openai</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>Name: openai</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>Version: <span class="fl">0.27.2</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>Summary: Python client library <span class="cf">for</span> the OpenAI API</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>Home<span class="op">-</span>page: https:<span class="op">//</span>github.com<span class="op">/</span>openai<span class="op">/</span>openai<span class="op">-</span>python</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>Author: OpenAI</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>Author<span class="op">-</span>email: support<span class="op">@</span>openai.com</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>License: </span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>Location: c:\miniconda\envs\r<span class="op">-</span>reticulate\lib\site<span class="op">-</span>packages</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>Requires: aiohttp, requests, tqdm</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>Required<span class="op">-</span>by: </span></code></pre></div>
</details>
</div>
</section>
<section id="gpt-4-모델" class="level2" data-number="1.2">
<h2 data-number="1.2"><span class="header-section-number">1.2</span> <code>gpt-4</code> 모델</h2>
<p><code>gpt-3.5-turbo</code> 모형은 속도가 빠르고 API 호출 당 가격이 저렴하지만, 성능이 <code>gpt-4</code> 보다 낮은 것으로 알려져 있다. <code>max_tokens</code> 크기를 달리하여 API 반환길이를 조절할 수 있고, <code>temperature</code> 값을 달리하여 사실에 보다 가까운 값을 얻고자 할 경우 0으로 그렇지 않고 다양한 창의적인 응답을 원할 경우 0 보다 큰 값을 지정한다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb2"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> ChatCompletion.create(</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  model       <span class="op">=</span> <span class="st">&quot;gpt-4&quot;</span>,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  messages    <span class="op">=</span> [</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;system&quot;</span>, <span class="st">&quot;content&quot;</span>: <span class="st">&quot;You are a helpful assistant.&quot;</span>},</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;user&quot;</span>, <span class="st">&quot;content&quot;</span>: <span class="st">&quot;파이썬하고 R 하고 싸우면 누가 이겨?&quot;</span>}</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  max_tokens   <span class="op">=</span> <span class="dv">100</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  temperature  <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response[<span class="st">&quot;choices&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;message&#39;</span>][<span class="st">&#39;content&#39;</span>])</span></code></pre></div>
</details>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">파이썬과</span> R은 프로그래밍 언어로, 싸우는 것이 아니라 각각의 특성과 용도에 따라 사용됩니다. </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">파이썬은</span> 범용 프로그래밍 언어로, 웹 개발, 데이터 분석, 인공 지능 등 다양한 분야에서 사용됩니다.</span></code></pre></div>
</section>
</section>
<section id="completion과-chatcompletion" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> <code>Completion</code>과 <code>ChatCompletion</code></h1>
<p><code>openai.Completion.create()</code> 함수를 사용하여 <code>text-davinci-003</code>, <code>text-davinci-002</code>, <code>ada</code>, <code>babbage</code>, <code>curie</code>, <code>davinci</code> 등 텍스트 완성 기능을 사용할 수 있다. 하지만, <code>openai.ChatCompletion.create()</code> 함수가 대세로 떠올랐으며 <code>gpt-4</code>를 비롯한 고급 모형과 AI 고급기능을 사용할 경우 비용이 높아지는 단점도 있다. 가성비가 뛰어난 LLM 모형을 선택하여 해당 기능을 구현하고 문제를 풀어가는 지혜가 필요하다.</p>
<p><span class="column-margin"><a href="https://openai.com/pricing">OpenAI Pricing</a></span></p>
</section>
<section id="openai-모형" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> <code>openai</code> 모형</h1>
<p><code>openai</code> API를 사용할 때 다양한 모형에 대한 확인이 필요하다. 이를 위해서 API 호출을 통해 이용가능한 모형을 확인한다. 특히, 수시로 OpenAI에서 제공되는 모형이 생겨나고 없어지기 때문에 API를 사용한 AI 모형을 개발할 때 특히 주의한다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb4"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> list_all_models():</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    model_list <span class="op">=</span> openai.Model.<span class="bu">list</span>()[<span class="st">&#39;data&#39;</span>]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    model_ids <span class="op">=</span> [x[<span class="st">&#39;id&#39;</span>] <span class="cf">for</span> x <span class="kw">in</span> model_list]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    model_ids.sort()</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    pprint.pprint(model_ids)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    list_all_models()</span></code></pre></div>
</details>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">&#39;ada&#39;</span><span class="ex">,</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;ada-code-search-code&#39;</span><span class="ex">,</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;ada-code-search-text&#39;</span><span class="ex">,</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;ada-search-document&#39;</span><span class="ex">,</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;ada-search-query&#39;</span><span class="ex">,</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;ada-similarity&#39;</span><span class="ex">,</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage&#39;</span><span class="ex">,</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage-code-search-code&#39;</span><span class="ex">,</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage-code-search-text&#39;</span><span class="ex">,</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage-search-document&#39;</span><span class="ex">,</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage-search-query&#39;</span><span class="ex">,</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage-similarity&#39;</span><span class="ex">,</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;code-davinci-edit-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;code-search-ada-code-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;code-search-ada-text-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;code-search-babbage-code-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;code-search-babbage-text-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;curie&#39;</span><span class="ex">,</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;curie-instruct-beta&#39;</span><span class="ex">,</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;curie-search-document&#39;</span><span class="ex">,</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;curie-search-query&#39;</span><span class="ex">,</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;curie-similarity&#39;</span><span class="ex">,</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;davinci&#39;</span><span class="ex">,</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;davinci-instruct-beta&#39;</span><span class="ex">,</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;davinci-search-document&#39;</span><span class="ex">,</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;davinci-search-query&#39;</span><span class="ex">,</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;davinci-similarity&#39;</span><span class="ex">,</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-3.5-turbo&#39;</span><span class="ex">,</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-3.5-turbo-0301&#39;</span><span class="ex">,</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-3.5-turbo-0613&#39;</span><span class="ex">,</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-3.5-turbo-16k&#39;</span><span class="ex">,</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-3.5-turbo-16k-0613&#39;</span><span class="ex">,</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-4&#39;</span><span class="ex">,</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-4-0314&#39;</span><span class="ex">,</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-4-0613&#39;</span><span class="ex">,</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-ada-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-babbage-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-curie-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-davinci-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-davinci-002&#39;</span><span class="ex">,</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-davinci-003&#39;</span><span class="ex">,</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-davinci-edit-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-embedding-ada-002&#39;</span><span class="ex">,</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-ada-doc-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-ada-query-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-babbage-doc-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-babbage-query-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-curie-doc-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-curie-query-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-davinci-doc-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-davinci-query-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-similarity-ada-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-similarity-babbage-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-similarity-curie-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-similarity-davinci-001&#39;</span><span class="ex">,</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;whisper-1&#39;</span><span class="ex">]</span></span></code></pre></div>
</section>
<section id="중재moderation" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> 중재(Moderation)</h1>
<p>AI LLM 모형에 입력값으로 전달되는 다양한 텍스트에 부적절한 내용이 담겨있을 수 있다. AI 제품을 제작할 때 이를 사전에 감지하여 적절한 조치를 취하는 것이 필요하다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb6"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> openai.Moderation.create(</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  model <span class="op">=</span> <span class="st">&quot;text-moderation-latest&quot;</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="bu">input</span> <span class="op">=</span> <span class="st">&quot;정신병자 천국이구나&quot;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response)</span></code></pre></div>
</details>
</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; {</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &quot;id&quot;: &quot;modr-7dwWS1RCU6qbmrmJNQOZrxElV6Qsa&quot;,</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &quot;model&quot;: &quot;text-moderation-005&quot;,</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &quot;results&quot;: [</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     {</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &quot;flagged&quot;: false,</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &quot;categories&quot;: {</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;sexual&quot;: false,</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;hate&quot;: false,</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;harassment&quot;: false,</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm&quot;: false,</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;sexual/minors&quot;: false,</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;hate/threatening&quot;: false,</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;violence/graphic&quot;: false,</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm/intent&quot;: false,</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm/instructions&quot;: false,</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;harassment/threatening&quot;: false,</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;violence&quot;: false</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       },</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &quot;category_scores&quot;: {</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;sexual&quot;: 4.693797e-05,</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;hate&quot;: 0.000676339,</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;harassment&quot;: 0.0005268965,</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm&quot;: 9.536401e-06,</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;sexual/minors&quot;: 8.569186e-07,</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;hate/threatening&quot;: 0.0012578131,</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;violence/graphic&quot;: 9.558387e-07,</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm/intent&quot;: 2.2572526e-06,</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm/instructions&quot;: 2.0226207e-06,</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;harassment/threatening&quot;: 0.00021643011,</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;violence&quot;: 1.2982889e-05</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       }</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     }</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ]</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; }</span></span></code></pre></div>
<p><a href="https://github.com/2runo/Curse-detection-data">욕설 감지 데이터셋</a>에서 욕설로 라벨링된 텍스트를 하나 가져와서 살펴본다. 결과는 욕설 뿐만 아니라 다양한 측면에서 해당 프롬프트 텍스트에 대한 평가결과를 제시하고 있다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb8"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>moderation_part_1 <span class="ot">&lt;-</span> py<span class="sc">$</span>response<span class="sc">$</span>results[[<span class="dv">1</span>]]<span class="sc">$</span>categories <span class="sc">|&gt;</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">enframe</span>(<span class="at">name =</span> <span class="st">&quot;구분&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(판정 <span class="ot">=</span> <span class="fu">map_lgl</span>(value, <span class="dv">1</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(구분, 판정)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>moderation_part_2 <span class="ot">&lt;-</span> py<span class="sc">$</span>response<span class="sc">$</span>results[[<span class="dv">1</span>]]<span class="sc">$</span>category_scores <span class="sc">|&gt;</span> </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">enframe</span>(<span class="at">name =</span> <span class="st">&quot;구분&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(점수 <span class="ot">=</span> <span class="fu">map_dbl</span>(value, <span class="dv">1</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(구분, 점수)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>moderation_tbl <span class="ot">&lt;-</span> <span class="fu">left_join</span>(moderation_part_1, moderation_part_2)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>moderation_tbl <span class="sc">|&gt;</span> </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(점수))</span></code></pre></div>
</details>
</div>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 11 × 3</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    구분                   판정         점수</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                  &lt;lgl&gt;       &lt;dbl&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 hate/threatening       FALSE 0.00126    </span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 hate                   FALSE 0.000676   </span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 harassment             FALSE 0.000527   </span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 harassment/threatening FALSE 0.000216   </span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 sexual                 FALSE 0.0000469  </span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 violence               FALSE 0.0000130  </span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 self-harm              FALSE 0.00000954 </span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 self-harm/intent       FALSE 0.00000226 </span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 self-harm/instructions FALSE 0.00000202 </span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 violence/graphic       FALSE 0.000000956</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 sexual/minors          FALSE 0.000000857</span></span></code></pre></div>
</section>
<section id="음성" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> 음성</h1>
<p>행정안전부 <a href="https://www.pa.go.kr/research/contents/speech/index.jsp">대통령기록관</a>에 연설기록 중 연설음성에서 제84주년 3.1절 기념식 노무현 대통령 음성원고를 대상으로 OpenAI Whisper API를 사용해서 텍스트를 추출해보자.</p>
<section id="연설문-낭독" class="level2" data-number="5.1">
<h2 data-number="5.1"><span class="header-section-number">5.1</span> 연설문 낭독</h2>
<p>‘제84주년 3.1절’ 기념행사에서 노무현 대통령이 낭독한 연설문을 요약하면 다음과 같다.</p>
<blockquote>
<p>3.1절을 맞아 일제에 항거한 애국선열들께 감사와 경의 표함. 국민통합과 개혁으로 평화와 번영의 동북아시대를 열어가고 자랑스런 대한민국을 우리 후손에게 물려줄 것을 연설했다.</p>
</blockquote>
<p><a href="https://www.audacityteam.org/download/">Audacity</a> 프로그램에서 불필요한 부분 삭제하고 해당 연설문만 추출하여 <code>.mp3</code> 파일로 준비한다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb10"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(av)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(embedr)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>embedr<span class="sc">::</span><span class="fu">embed_audio</span>(<span class="st">&quot;data/제84주년_31절_기념사_노무현.mp3&quot;</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<audio controls> <source src='data/제84주년_31절_기념사_노무현.mp3' type='audio/mpeg'> Your browser does not support the audio tag;  for browser support, please see:  https://www.w3schools.com/tags/tag_audio.asp </audio>
</div>
</div>
</section>
<section id="mp3-텍스트" class="level2" data-number="5.2">
<h2 data-number="5.2"><span class="header-section-number">5.2</span> <code>.mp3</code> → 텍스트</h2>
<p>OpenAI Whisper API를 사용하여 음성을 TXT로 변환하는 작업을 수행한다. <code>.mp3</code> 파일을 준비하고,<code>Audio.transcribe()</code> 함수를 사용하여 <code>.txt</code> 텍스트 파일로 저장한다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb11"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># STT --------------------------</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>speech_file <span class="op">=</span> <span class="bu">open</span>(<span class="st">&quot;data/제84주년_31절_기념사_노무현.mp3&quot;</span>, <span class="st">&quot;rb&quot;</span>)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> openai.Audio.transcribe(<span class="st">&quot;whisper-1&quot;</span>, speech_file)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;data/stt_audio.txt&quot;</span>, <span class="st">&quot;w&quot;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.write(response[<span class="st">&quot;text&quot;</span>])</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    </span></code></pre></div>
</details>
</div>
</section>
<section id="후처리" class="level2" data-number="5.3">
<h2 data-number="5.3"><span class="header-section-number">5.3</span> 후처리</h2>
<p>STT를 통해 나온 텍스트는 사람이 읽기에는 가독성이 무척 떨어지는 텍스트에 불과하다. 이를 읽을 수 있도록 후처리를 한다.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">음성원고 원문</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Whisper 텍스트</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">챗 GPT 후가공</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Whisper 텍스트</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>존경하는 국민 여러분,</p>
<p>오늘 여든 네 번째 3, 1절을 맞아 나라를 위해 희생하고 헌신하신 애국선열들께 한없는 감사와 경의를 표합니다. 독립유공자와 유가족 여러분에게도 존경과 감사의 말씀을 드립니다.</p>
<p>기미년 오늘, 우리는 일제의 총칼에 맞서 맨주먹으로 분연히 일어섰습니다. 대한독립 만세 소리가 전국 방방곡곡을 뒤덮었고, 우리는 자주독립 의지를 세계만방에 알렸습니다. 3, 1운동을 계기로 국내외의 독립투쟁은 더욱 힘차게 전개되었습니다. 상해에 대한민국 임시정부가 세워졌고, 우리는 마침내 빼앗긴 국권을 되찾았습니다.</p>
<p>3, 1정신은 끊임없는 도전을 슬기롭게 극복해 온 우리 민족의 자랑입니다. 우리는 이러한 빛나는 정신을 계승하여 전쟁의 폐허를 딛고 세계 12위의 경제강국으로 발돋움했습니다. 4, 19 혁명과 광주민주화운동, 6월 민주항쟁을 거쳐 민주주의와 인권을 쟁취해 냈습니다. 오늘의 참여정부는 바로 그 위대한 역사의 연장선 위에 서 있습니다.</p>
<p>참여정부의 출범으로 이제 아픔의 근, 현대사는 막을 내리게 되었습니다. 우리의 지난날은 선열들의 고귀한 희생에도 불구하고 좌절과 굴절을 겪어야 했습니다. 정의는 패배했고 기회주의가 득세했습니다.</p>
<p>그러나 이제 비로소 역사적 전환점이 마련되었습니다. 국민이 진정 주인으로 대접받는 시대가 열린 것입니다.</p>
<p>참여정부에서는 권력에 아부하는 사람들이 더 이상 설 땅이 없을 것입니다. 오로지 성실하게 일하고 정정당당하게 승부하는 사람들이 성공하는 시대가 열릴 것입니다. 그것이 바로 선열들의 희생에 보답하는 길이자 저와 참여정부에게 주어진 역사적 소명입니다.</p>
<p>국민 여러분,</p>
<p>지금 우리는 세계사의 새로운 흐름과 마주하고 있습니다. 동북아 시대의 도래가 바로 그것입니다. 동북아시아는 근대 이후 세계의 변방으로만 머물러 왔습니다. 그러나 이제 유럽연합, 북미지역과 함께 세계경제의 3대 축으로 부상하고 있습니다. 앞으로 20년 후에는 세계경제의 3분의 1을 차지하게 된다는 전망도 있습니다. 민족웅비의 크나큰 기회가 우리에게 다가오고 있는 것입니다.</p>
<p>우리는 동북아시대의 중심국가로 도약할 수 있는 충분한 조건을 갖추고 있습니다. 우선, 지리적으로 중심에 자리잡고 있습니다. 서울에서 3시간의 비행거리 안에 인구 100만 이상의 도시가 마흔 세 개나 됩니다. 중국과 러시아의 인력과 자원, 그리고 일본의 기술을 접목할 수 있는 유리한 위치입니다. 대륙과 해양을 잇는 지정학적 이점도 가지고 있습니다. 하늘과 바다와 땅에 걸친 물류와, 세계 일류의 정보화 기반과 역량을 두루 갖추고 있습니다.</p>
<p>한반도는 더 이상 세계의 변방이 아닙니다. 남북 철도가 연결되고 철의 실크로드가 열리면 광활한 대륙을 향해 나아갈 수 있습니다. 그 곳에는 중국대륙이라는 새로운 기회가 기다리고 있습니다. 시베리아와 중앙아시아의 무한한 자원도 있습니다.</p>
<p>한반도가 대륙과 해양을 잇는 물류와 금융과 생산 거점으로 거듭나게 됩니다. 이것이 바로 우리 앞에 있는 미래입니다. 우리에게는 이를 현실로 만들어야 하는 책무가 주어져 있습니다.</p>
<p>존경하는 국민 여러분,</p>
<p>그러나 동북아 중심국가로 나아가기 위해서는 반드시 해야 할 일이 있습니다. 한반도에 평화를 정착시키는 일입니다. 남북이 대립하며 한반도에 긴장이 고조되는 한, 동북아 중심국가의 꿈은 실현될 수 없습니다. 동북아의 평화와 번영도 기대하기 어렵습니다.</p>
<p>그동안 우리는 한반도에 평화를 정착시키기 위해 많은 노력을 기울여 왔습니다. 남북간에 대화와 교류가 빈번해졌고 이산가족이 만나고 있습니다. 최근에는 육로도 열렸습니다.</p>
<p>그러나 아직 풀어야 할 숙제가 많습니다. 특히 북핵 문제는 시급히 해결해야 할 과제입니다.</p>
<p>저는 북한의 핵 개발에 단호히 반대합니다. 그러나 이 문제는 반드시 평화적으로 해결되어야 합니다. 어떠한 이유로든 한반도의 평화가 깨어진다면, 우리는 그 엄청난 재앙을 감당할 수 없습니다. 한반도의 평화와 국민의 안전을 지키는 것은 대통령의 가장 큰 책무입니다.</p>
<p>앞으로 남북관계는 국민 여러분께 소상히 보고 드리고, 국민적 합의를 바탕으로 추진해 나가겠습니다. 야당의 협력도 적극적으로 구해나갈 것입니다. 미국과 일본, 중국, 러시아 등 주변국과, EU를 비롯한 국제사회와도 능동적으로 협력해나갈 것입니다.</p>
<p>국민 여러분,</p>
<p>한반도에 평화를 정착시키는 일 못지 않게 중요한 것은 국민의 힘을 하나로 모으는 일입니다. 84년 전 오늘, 우리의 선열들은 한마음 한뜻으로 독립운동에 나섰습니다. 빈부와 귀천, 남녀와 노소, 지역과 종교의 차이는 없었습니다. 나라의 독립과 민족의 자존심을 되찾는 데 하나가 되었습니다.</p>
<p>오늘을 사는 우리도 지역과 계층과 세대를 넘어 하나가 되어야 합니다. 내부에 분열과 반목이 있으면 세계경쟁에서 뒤쳐질 수밖에 없습니다. 국권까지 상실했던 100년 전의 실패가 되풀이될 수도 있습니다. 지금이야말로 3, 1정신을 되돌아보며 역사의 교훈을 되새겨야 할 때입니다.</p>
<p>마음속에 지역갈등의 응어리가 있다면 가슴을 열고 풀어야 합니다. 어른은 젊은이의 목소리에 귀기울이고 젊은이는 어른의 경험을 구해야 합니다. 차별 받고 소외되어 온 사람들에게 더 많은 관심과 노력을 기울여야 합니다. 국민 모두가 참된 주인으로서 국정에 참여하고, 온 국민의 힘을 하나로 모으는 국민참여시대를 힘차게 열어가야겠습니다.</p>
<p>개혁 또한 멈출 수 없는 우리 시대의 과제입니다. 무엇보다 정치와 행정이 바뀌어야 합니다. 이른바 몇몇 ’권력기관’은 그동안 정권을 위해 봉사해 왔던 것이 사실입니다. 그래서 내부의 질서가 무너지고 국민의 신뢰를 잃었습니다. 이제 이들 ’권력기관’은 국민을 위한 기관으로 거듭나야 합니다. 참여정부는 더 이상 ’권력기관’에 의존하지 않을 것입니다. 언제나 정정당당한 정부로서 국민 앞에 설 것입니다.</p>
<p>참여정부는 공정하고 투명한 시장질서, 노사화합, 기술혁신, 지역 균형발전 속에 정직하고 성실하게 사는 사람들이 성공하는 나라를 만들어갈 것입니다. 이를 위해 원칙과 신뢰, 공정과 투명, 대화와 타협, 분권과 자율의 문화를 사회 곳곳에 뿌리내릴 것입니다.</p>
<p>존경하는 국민 여러분!</p>
<p>우리에게는 선열들이 보여준 자주독립의 기상과 대동단결의 지혜가 있습니다. 오늘 3, 1절을 맞아 일제의 총칼에 항거하며 이루고자 했던 선열들의 뜻을 다시 한번 가슴에 새깁시다. 국민통합과 개혁으로 평화와 번영의 동북아시대를 열어갑시다. 자랑스런 대한민국을 우리 후손들에게 물려줍시다.</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb12"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>stt_txt <span class="ot">&lt;-</span> <span class="fu">read_lines</span>(<span class="st">&quot;data/stt_audio.txt&quot;</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>stt_txt</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;존경하는 국민여러분 오늘 84번째 3.21절을 맞아 나라를 위해 희생하고 헌신하신 애국선열들께 한없는 감사와 경의를 표합니다 독립유공자와 유가족 여러분에게도 존경과 감사의 말씀을 드립니다 3.22년 오늘 우리는 일제의 총칼에 맞서 맨주먹으로 분연히 일어섰습니다 대한독립만세 소리가 전국 방방곡곡을 뒤덮었고 우리는 자주독립의지를 세계 만방에 알렸습니다 3.21운동을 계기로 국내외의 독립투쟁은 더욱 힘차게 전개되었습니다 상해 대한민국 임시정부가 세워졌고 우리는 마침내 빼앗긴 국권을 되찾았습니다 3.21정신은 끊임없는 도전을 슬기롭게 극복해온 우리 민족의 자랑입니다 우리는 이러한 빛나는 정신을 계승하여 전쟁의 폐허를 딛고 세계 12위의 경제강국으로 발돋움했습니다 4.19혁명과 광주민주화운동 6월 민주항쟁을 거쳐서 민주주의와 인권을 쟁취해냈습니다 오늘의 참여정부는 바로 그 위대한 역사의 연장선 위에 서 있습니다 참여정부의 출범으로 이제 아픔의 근현대사는 막을 내리게 되었습니다 우리의 지난 날은 선열들의 고귀한 희생에도 불구하고 좌절과 굴절을 겪어야 했습니다 정의는 패배했고 기회주의가 덕세했습니다 그러나 이제 비로소 역사적 전환점이 마련됐습니다 국민이 진정 주인으로 대접받는 시대가 열릴 것입니다 참여정부에서는 권력의 아부하는 사람들이 더 이상 설 땅이 없을 것입니다 오로지 성실하게 일하고 정정당당하게 선고하는 사람들이 성공하는 시대가 열릴 것입니다 그것이 바로 선열들의 희생에 보답하는 길이자 저와 참여정부에게 주어진 역사의 소명이라고 생각합니다 존경하는 국민 여러분 지금 우리는 세계사의 새로운 흐름과 마주하고 있습니다 동북아 시대의 도래가 바로 그것입니다 동북아시아는 근대 이후 세계의 변방으로만 머물러 왔습니다 그러나 이제 유럽연합, 북미 지역과 함께 세계 경제의 3대 축으로 부상하고 있습니다 앞으로 20년 후에는 세계 경제의 3분의 1을 차지하게 된다는 전망도 있습니다 민족웅비의 크나큰 기회가 우리에게 다가오고 있는 것입니다 우리는 동북아 시대의 중심국가로 돌아갈 수 있는 충분한 조건을 갖추고 있습니다 우선 지리적으로 중심에 자리 잡고 있습니다 서울에서 3시간의 비행거리 안에 인구 100만 이상의 도시가 40개나 됩니다 중국과 러시아의 인력과 자원 그리고 일본의 기술을 접목할 수 있는 유리한 위치에 서 있습니다 대륙과 해양을 잇는 지정학적인 이점도 아울러 가지고 있습니다 하늘과 바다와 땅에 걸친 물류와 세계 인류의 정보와 기반과 역량을 두루 갖추고 있습니다 한반도는 더 이상 세계의 변방이 아닙니다 남북철도가 연결되고 철의 실크로드가 열리면 광활한 대륙을 향해서 나아갈 수 있습니다 이곳에는 중국 대륙이라는 새로운 기회가 기다리고 있습니다 시베리아와 중앙아시아의 무한한 자원도 있습니다 한반도가 대륙과 해양을 잇는 물류와 금융과 생산의 거점으로서 거듭나게 될 것입니다 이것이 바로 우리 앞에 있는 미래입니다 우리에게는 이를 현실로 만들어야 하는 책무가 주어져 있습니다 존경하는 국민 여러분 그러나 동북아 중심국가로 나아가기 위해서는 반드시 해야 할 일이 있습니다 한반도의 평화를 정착시키는 일입니다 남북이 대립하며 한반도의 긴장이 고조되는 한 동북아 중심국가의 꿈은 실현될 수 없습니다 동북아의 평화와 번영도 기대하기 어렵습니다 그동안 우리는 한반도의 평화를 정착시키기 위해서 많은 노력을 기울여 왔습니다 남북 간의 대화와 교류가 빈번해졌고 이산가족이 만나고 있습니다 최근에는 육로도 열리고 있습니다 그러나 아직 풀어야 할 숙제가 많이 있습니다 특히 북한 핵 문제는 시급히 해결해야 할 과제입니다 저는 북한의 핵 개발에 단호히 반대합니다 그러나 이 문제는 반드시 평화적으로 해결돼야 합니다 어떠한 이유로든 한반도의 평화가 깨어진다면 우리는 그 엄청난 재앙을 감당해낼 수가 없습니다 한반도의 평화와 국민의 안전을 지키는 것은 대통령의 가장 큰 책무입니다 앞으로 남북관계는 국민 여러분께 하나하나 소상히 보고드리고 국민적 합의를 바탕으로 추진해 나가겠습니다 야당의 협력도 적극적으로 구해나갈 것입니다 미국과 일본, 중국, 러시아 등 주변국과 이유를 비롯한 국제사회와도 능동적으로 협력해 나가겠습니다 존경하는 국민 여러분 한반도의 평화를 정착시키는 일 못지않게 중요한 것은 국민의 힘을 하나로 모으는 것입니다 84년 전 오늘 우리의 선열들은 한마음 한뜻으로 독립운동에 나섰습니다 빈부와 귀천, 남녀와 노소, 지역과 종교의 차이도 없었습니다 나라의 독립과 민족의 자존심을 되찾는데 하나가 되었습니다 오늘을 사는 우리도 지역과 계층과 세대를 넘어서 하나가 되어야 합니다 내부의 분열과 반목이 있으면 세계 경쟁에서 뒤처질 수밖에 없을 것입니다 국권까지 상실했던 100년 전의 실패가 되풀이 될 수도 있습니다 그야말로 3.1 정신을 되돌아보며 역사의 교훈을 되새겨야 할 때입니다 마음속에 지역 갈등의 응어리가 있다면 가슴을 열고 풀어야 합니다 어른은 젊은이의 목소리를 귀 기울이시고 젊은이는 어른들의 경험을 구해야 합니다 차별받고 제가 박수칠 사의를 드리는데 익숙지를 못합니다 차별받고 소외되어 온 사람들에게 더 많은 관심과 노력을 기울여야 합니다 국민 모두가 참된 주인으로서 국정에 참여하고 온 국민의 힘을 하나로 모으는 국민참여시대를 힘차게 열어가야겠습니다 개혁 또한 멈출 수 없는 우리 시대의 과제입니다 무엇보다도 정치와 행정이 바뀌어야 합니다 이른바 몇몇 권력기관은 그동안에 정권을 위해 봉사해왔던 것이 사실입니다 그래서 내부의 질서가 무너지고 국민의 신뢰를 잃었습니다 이제 이들 권력기관은 국민을 위한 기관으로 다시 태어나야 합니다 참여정부는 더 이상 권력기관에 의존하지 않을 것입니다 언제나 정정당당한 정부로서 국민 앞에 설 것입니다 참여정부는 공정하고 투명한 시장질서와 노사화합, 기술혁신, 지역의 균형발전 속에 정직하고 성실하게 사는 사람들이 성공하는 나라를 만들어갈 것입니다 이를 위해서 원칙과 신뢰, 공정과 투명, 대화와 타협 그리고 분권과 자율의 문화를 사회 곳곳에 뿌리내릴 것입니다 존경하는 국민 여러분 우리에게는 선열들이 보여준 자주독립의 기상과 대동단결의 지혜가 있습니다 오늘 3.1절을 맞아 1절의 총칼에 항거하며 이루고자 했던 선열들의 뜻을 다시 한번 가슴에 새깁시다 국민 통합과 개혁으로 평화와 번영의 동북아 시대를 열어갑시다 자랑스런 대한민국을 우리 후손들에게 물려줍시다 감사합니다&quot;</span></span></code></pre></div>
</details>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class='callout-icon'></i>
</div>
<div class="callout-title-container flex-fill">
프롬프트: 다음 텍스트에 구두점을 넣고 문단별로 나눠 가독성을 높혀주세요. <br><br> “존경하는 국민여러분 오늘 84번째 ..<중략>.. 물려줍시다 감사합니다”
</div>
</div>
<div class="callout-body-container callout-body">
<p>“존경하는 국민여러분, 오늘 84번째 3.1절을 맞아, 나라를 위해 희생하고 헌신하신 애국선열들께 한없는 감사와 경의를 표합니다. 독립유공자와 유가족 여러분에게도 존경과 감사의 말씀을 드립니다.</p>
<p>3.1 1922년 오늘, 우리는 일제의 총칼에 맞서 맨주먹으로 분연히 일어섰습니다. 대한독립만세 소리가 전국 방방곡곡을 뒤덮었고, 우리는 자주독립의지를 세계 만방에 알렸습니다. 3.1운동을 계기로 국내외의 독립투쟁은 더욱 힘차게 전개되었습니다. 상해 대한민국 임시정부가 세워졌고, 우리는 마침내 빼앗긴 국권을 되찾았습니다.</p>
<p>3.1정신은 끊임없는 도전을 슬기롭게 극복해온 우리 민족의 자랑입니다. 우리는 이러한 빛나는 정신을 계승하여 전쟁의 폐허를 딛고 세계 12위의 경제강국으로 발돋움했습니다. 4.19혁명과 광주민주화운동, 6월 민주항쟁을 거쳐서 민주주의와 인권을 쟁취해냈습니다. 오늘의 참여정부는 바로 그 위대한 역사의 연장선 위에 서 있습니다.</p>
<p>참여정부의 출범으로, 이제 아픔의 근현대사는 막을 내리게 되었습니다. 우리의 지난 날은 선열들의 고귀한 희생에도 불구하고 좌절과 굴절을 겪어야 했습니다. 정의는 패배했고 기회주의가 덕세했습니다. 그러나 이제 비로소 역사적 전환점이 마련됐습니다. 국민이 진정 주인으로 대접받는 시대가 열릴 것입니다. 참여정부에서는 권력의 아부하는 사람들이 더 이상 설 땅이 없을 것입니다. 오로지 성실하게 일하고 정정당당하게 선고하는 사람들이 성공하는 시대가 열릴 것입니다. 그것이 바로 선열들의 희생에 보답하는 길이자, 저와 참여정부에게 주어진 역사의 소명이라고 생각합니다.</p>
<p>존경하는 국민 여러분, 지금 우리는 세계사의 새로운 흐름과 마주하고 있습니다. 동북아 시대의 도래가 바로 그것입니다. 동북아시아는 근대 이후 세계의 변방으로만 머물러 왔습니다. 그러나 이제 유럽연합, 북미 지역과 함께 세계 경제의 3대 축으로 부상하고 있습니다. 앞으로 20년 후에는 세계 경제의 3분의 1을 차지하게 된다는 전망도 있습니다.</p>
<p>민족웅비의 크나큰 기회가 우리에게 다가오고 있는 것입니다. 우리는 동북아 시대의 중심국가로 돌아갈 수 있는 충분한 조건들의 꿈을 생각해 보겠습니다. 이 땅에 건설한 자유와 평화, 독립과 민주주의의 신성한 꿈입니다. 우리는 그 꿈을 계승하고 이어가야 합니다.</p>
<p>참여정부는 모든 일을 국민과 함께 할 것입니다. 어려운 일에도 함께 참여하고, 희망을 나누는 일에도 함께 참여하겠습니다. 정의를 위해 함께 서고, 기회를 위해 함께 투쟁하겠습니다. 바로 그것이 참여정부의 이념이고 실천의 방향입니다.</p>
<p>모든 국민이 참여하는 민주주의, 그것이 바로 참여정부의 민주주의입니다. 대통령으로서 제게 주어진 역사의 소명을 다할 것입니다. 국민이 주인이 되는 참여정부, 그것을 만들어 가겠습니다. 국민 여러분의 도움과 협력이 절실히 필요합니다.</p>
<p>국민 여러분, 오늘 3.1절을 맞아 이 자리에 함께 해주신 데 대해 깊은 감사의 말씀을 드립니다. 우리 모두가 동행하며, 선열들의 꿈을 이루어 나가는 큰 한 걸음을 내딛을 수 있기를 기원합니다. 감사합니다.</p>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<p><code>gpt-4</code>, 특히 <code>gpt-4-0314</code> 모형을 사용하여 API로 앞서 Whisper로 STT하여 받아쓰기한 사항을 윤문하여 연설문을 보기 좋게 다시 작성한다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb13"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 텍스트 불러오기 --------------------------</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;data/stt_audio.txt&quot;</span>, <span class="st">&quot;r&quot;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    content <span class="op">=</span> <span class="bu">file</span>.read()</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(content)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 텍스트 윤문 --------------------------</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>prompt <span class="op">=</span> <span class="ss">f&#39;다음 텍스트에 구두점을 넣고 문단별로 나눠 가독성을 높혀주세요. </span><span class="ch">\n\n</span><span class="sc">{</span>content<span class="sc">}</span><span class="ss">&#39;</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>speech_response <span class="op">=</span> openai.ChatCompletion.create(</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  model       <span class="op">=</span> <span class="st">&quot;gpt-4-0314&quot;</span>,</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  messages    <span class="op">=</span> [</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;system&quot;</span>, <span class="st">&quot;content&quot;</span>: <span class="st">&quot;You are a Korean language expert.&quot;</span>},</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;user&quot;</span>, <span class="st">&quot;content&quot;</span>: prompt}</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>  max_tokens   <span class="op">=</span> <span class="dv">5000</span>,</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>  temperature  <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(speech_response[<span class="st">&quot;choices&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;message&#39;</span>][<span class="st">&#39;content&#39;</span>])</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;data/stt_audio_gpt4.txt&quot;</span>, <span class="st">&quot;w&quot;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.write(speech_response[<span class="st">&quot;choices&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;message&#39;</span>][<span class="st">&#39;content&#39;</span>])</span></code></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb14"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>gpt4_txt <span class="ot">&lt;-</span> <span class="fu">read_lines</span>(<span class="st">&quot;data/stt_audio_gpt4.txt&quot;</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">&quot;{gpt4_txt}&quot;</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 존경하는 국민여러분, 오늘 84번째 3.1절을 맞아 나라를 위해 희생하고 헌신하신 애국선열들께 한없는 감사와 경의를 표합니다. 독립유공자와 유가족 여러분에게도 존경과 감사의 말씀을 드립니다.</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3.1운동 102년 전 오늘, 우리는 일제의 총칼에 맞서 맨주먹으로 분연히 일어섰습니다. 대한독립만세 소리가 전국 방방곡곡을 뒤덮었고, 우리는 자주독립의지를 세계 만방에 알렸습니다. 3.1운동을 계기로 국내외의 독립투쟁은 더욱 힘차게 전개되었습니다. 상해 대한민국 임시정부가 세워졌고, 우리는 마침내 빼앗긴 국권을 되찾았습니다.</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3.1정신은 끊임없는 도전을 슬기롭게 극복해온 우리 민족의 자랑입니다. 우리는 이러한 빛나는 정신을 계승하여 전쟁의 폐허를 딛고 세계 12위의 경제강국으로 발돋움했습니다. 4.19혁명과 광주민주화운동, 6월 민주항쟁을 거쳐서 민주주의와 인권을 쟁취해냈습니다. 오늘의 참여정부는 바로 그 위대한 역사의 연장선 위에 서 있습니다.</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 참여정부의 출범으로 이제 아픔의 근현대사는 막을 내리게 되었습니다. 우리의 지난 날은 선열들의 고귀한 희생에도 불구하고 좌절과 굴절을 겪어야 했습니다. 정의는 패배했고 기회주의가 덕세했습니다. 그러나 이제 비로소 역사적 전환점이 마련됐습니다. 국민이 진정 주인으로 대접받는 시대가 열릴 것입니다. 참여정부에서는 권력의 아부하는 사람들이 더 이상 설 땅이 없을 것입니다. 오로지 성실하게 일하고 정정당당하게 선고하는 사람들이 성공하는 시대가 열릴 것입니다. 그것이 바로 선열들의 희생에 보답하는 길이자 저와 참여정부에게 주어진 역사의 소명이라고 생각합니다.</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 존경하는 국민 여러분, 지금 우리는 세계사의 새로운 흐름과 마주하고 있습니다. 동북아 시대의 도래가 바로 그것입니다. 동북아시아는 근대 이후 세계의 변방으로만 머물러 왔습니다. 그러나 이제 유럽연합, 북미 지역과 함께 세계 경제의 3대 축으로 부상하고 있습니다. 앞으로 20년 후에는 세계 경제의 3분의 1을 차지하게 된다는 전망도 있습니다. 민족웅비의 크나큰 기회가 우리에게 다가오고 있는 것입니다.</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 우리는 동북아 시대의 중심국가로 돌아갈 수 있는 충분한 조건을 갖추고 있습니다. 우선 지리적으로 중심에 자리 잡고 있습니다. 서울에서 3시간의 비행거리 안에 인구 100만 이상의 도시가 40개나 됩니다. 중국과 러시아의 인력과 자원 그리고 일본의 기술을 접목할 수 있는 유리한 위치에 서 있습니다. 대륙과 해양을 잇는 지정학적인 이점도 아울러 가지고 있습니다. 하늘과 바다와 땅에 걸친 물류와 세계 인류의 정보와 기반과 역량을 두루 갖추고 있습니다.</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 한반도는 더 이상 세계의 변방이 아닙니다. 남북철도가 연결되고 철의 실크로드가 열리면 광활한 대륙을 향해서 나아갈 수 있습니다. 이곳에는 중국 대륙이라는 새로운 기회가 기다리고 있습니다. 시베리아와 중앙아시아의 무한한 자원도 있습니다. 한반도가 대륙과 해양을 잇는 물류와 금융과 생산의 거점으로서 거듭나게 될 것입니다. 이것이 바로 우리 앞에 있는 미래입니다. 우리에게는 이를 현실로 만들어야 하는 책무가 주어져 있습니다.</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 존경하는 국민 여러분, 그러나 동북아 중심국가로 나아가기 위해서는 반드시 해야 할 일이 있습니다. 한반도의 평화를 정착시키는 일입니다. 남북이 대립하며 한반도의 긴장이 고조되는 한 동북아 중심국가의 꿈은 실현될 수 없습니다. 동북아의 평화와 번영도 기대하기 어렵습니다.</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 그동안 우리는 한반도의 평화를 정착시키기 위해서 많은 노력을 기울여 왔습니다. 남북 간의 대화와 교류가 빈번해졌고 이산가족이 만나고 있습니다. 최근에는 육로도 열리고 있습니다. 그러나 아직 풀어야 할 숙제가 많이 있습니다. 특히 북한 핵 문제는 시급히 해결해야 할 과제입니다. 저는 북한의 핵 개발에 단호히 반대합니다. 그러나 이 문제는 반드시 평화적으로 해결돼야 합니다. 어떠한 이유로든 한반도의 평화가 깨어진다면 우리는 그 엄청난 재앙을 감당해낼 수가 없습니다.</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 한반도의 평화와 국민의 안전을 지키는 것은 대통령의 가장 큰 책무입니다. 앞으로 남북관계는 국민 여러분께 하나하나 소상히 보고드리고 국민적 합의를 바탕으로 추진해 나가겠습니다. 야당의 협력도 적극적으로 구해나갈 것입니다. 미국과 일본, 중국, 러시아 등 주변국과 이유를 비롯한 국제사회와도 능동적으로 협력해 나가겠습니다.</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 존경하는 국민 여러분, 한반도의 평화를 정착시키는 일 못지않게 중요한 것은 국민의 힘을 하나로 모으는 것입니다. 84년 전 오늘 우리의 선열들은 한마음 한뜻으로 독립운동에 나섰습니다. 빈부와 귀천, 남녀와 노소, 지역과 종교의 차이도 없었습니다. 나라의 독립과 민족의 자존심을 되찾는데 하나가 되었습니다.</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 오늘을 사는 우리도 지역과 계층과 세대를 넘어서 하나가 되어야 합니다. 내부의 분열과 반목이 있으면 세계 경쟁에서 뒤처질 수밖에 없을 것입니다. 국권까지 상실했던 100년 전의 실패가 되풀이 될 수도 있습니다. 그야말로 3.1 정신을 되돌아보며 역사의 교훈을 되새겨야 할 때입니다.</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 마음속에 지역 갈등의 응어리가 있다면 가슴을 열고 풀어야 합니다. 어른은 젊은이의 목소리를 귀 기울이시고 젊은이는 어른들의 경험을 구해야 합니다. 차별받고 제가 박수칠 사의를 드리는데 익숙지를 못합니다. 차별받고 소외되어 온 사람들에게 더 많은 관심과 노력을 기울여야 합니다. 국민 모두가 참된 주인으로서 국정에 참여하고 온 국민의 힘을 하나로 모으는 국민참여시대를 힘차게 열어가야겠습니다.</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 개혁 또한 멈출 수 없는 우리 시대의 과제입니다. 무엇보다도 정치와 행정이 바뀌어야 합니다. 이른바 몇몇 권력기관은 그동안에 정권을 위해 봉사해왔던 것이 사실입니다. 그래서 내부의 질서가 무너지고 국민의 신뢰를 잃었습니다. 이제 이들 권력기관은 국민을 위한 기관으로 다시 태어나야 합니다. 참여정부는 더 이상 권력기관에 의존하지 않을 것입니다. 언제나 정정당당한 정부로서 국민 앞에 설 것입니다.</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 참여정부는 공정하고 투명한 시장질서와 노사화합, 기술혁신, 지역의 균형발전 속에 정직하고 성실하게 사는 사람들이 성공하는 나라를 만들어갈 것입니다. 이를 위해서 원칙과 신뢰, 공정과 투명, 대화와 타협 그리고 분권과 자율의 문화를 사회 곳곳에 뿌리내릴 것입니다.</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 존경하는 국민 여러분, 우리에게는 선열들이 보여준 자주독립의 기상과 대동단결의 지혜가 있습니다. 오늘 3.1절을 맞아 1절의 총칼에 항거하며 이루고자 했던 선열들의 뜻을 다시 한번 가슴에 새깁시다. 국민 통합과 개혁으로 평화와 번영의 동북아 시대를 열어갑시다. 자랑스런 대한민국을 우리 후손들에게 물려줍시다. 감사합니다.</span></span></code></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="번역" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> 번역</h1>
<p>Whisper API를 사용하면 다국어를 번역하는 것도 가능하다. 먼저, 연설문 앞쪽부분을 영어로 실시간 번역해보자. Whisper는 영어가 아닌 다양한 언어음성을 영어로 번역하는 기능도 갖추고 있다.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">연설문 초반부</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">연설 원음</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">한국어 음성 → 영문</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>존경하는 국민 여러분,</p>
<p>오늘 여든 네 번째 3, 1절을 맞아 나라를 위해 희생하고 헌신하신 애국선열들께 한없는 감사와 경의를 표합니다. 독립유공자와 유가족 여러분에게도 존경과 감사의 말씀을 드립니다.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb15"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(av)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(embedr)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>embedr<span class="sc">::</span><span class="fu">embed_audio</span>(<span class="st">&quot;data/한국어_영어번역.mp3&quot;</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<audio controls> <source src='data/한국어_영어번역.mp3' type='audio/mpeg'> Your browser does not support the audio tag;  for browser support, please see:  https://www.w3schools.com/tags/tag_audio.asp </audio>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>특히, 프롬프트에 맥락 정보를 넣어 전달하면 더욱 정확한 번역 결과를 기대할 수 있다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb16"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 번역 ----------------------</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>start_audio_file <span class="op">=</span> <span class="bu">open</span>(<span class="st">&quot;data/한국어_영어번역.mp3&quot;</span>, <span class="st">&quot;rb&quot;</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>start_prompt <span class="op">=</span> <span class="st">&quot;한국 대통령이 3.1절 기념식 연설문 중 앞부분입니다.&quot;</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>start_resp <span class="op">=</span> openai.Audio.translate(<span class="st">&quot;whisper-1&quot;</span>,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>                                    start_audio_file,</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>                                    prompt <span class="op">=</span> start_prompt)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(start_resp[<span class="st">&quot;text&quot;</span>])</span></code></pre></div>
</details>
</div>
<pre><code>Honorable citizens, Today, on the 84th anniversary of 3.1, I would like to express my deepest gratitude and respect to the patriotic soldiers who sacrificed for the country. I would also like to express my respect and gratitude to the independence activists and their families.</code></pre>
</div>
</div>
</div>
</section>
<section id="뉴스기사-제작" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> 뉴스기사 제작</h1>
<p>오디오나 사진, 동영상 등 다양한 형태의 데이터를 텍스트 문자로 변환시키면 다음 단계로 다양한 후속 작업을 수행할 수 있다. 앞서 노무현 대통령의 3.1절 연설문을 거의 실시간으로 녹취를 떠서 이를 텍스트로 추출한 후 속보 형태 기사로 송고할 수 있다.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="images/openai_api_workflow.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="images/openai_api_workflow.jpg" class="img-fluid" /></a></p>
</figure>
</div>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb18"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 연설문 불러오기 --------------------------</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;data/stt_audio_gpt4.txt&quot;</span>, <span class="st">&quot;r&quot;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    speech_content <span class="op">=</span> <span class="bu">file</span>.read()</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>prompt <span class="op">=</span> <span class="ss">f&#39;다음 텍스트를 뉴스 속보 형태 기사로 엄중한 문체로 100자 내외로 짧게 작성해주세요.. </span><span class="ch">\n\n</span><span class="sc">{</span>speech_content<span class="sc">}</span><span class="ss">&#39;</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>breaking_news_response <span class="op">=</span> openai.ChatCompletion.create(</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  model       <span class="op">=</span> <span class="st">&quot;gpt-3.5-turbo&quot;</span>,</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>  messages    <span class="op">=</span> [</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;system&quot;</span>, <span class="st">&quot;content&quot;</span>: <span class="st">&quot;You are a Korean reporter.&quot;</span>},</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;user&quot;</span>, <span class="st">&quot;content&quot;</span>: prompt}</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>  max_tokens   <span class="op">=</span> <span class="dv">800</span>,</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>  temperature  <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(breaking_news_response[<span class="st">&quot;choices&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;message&#39;</span>][<span class="st">&#39;content&#39;</span>])</span></code></pre></div>
</details>
</div>
<pre><code>[속보] 3.1절 맞아 국민에게 경의 표한
오늘 84번째 3.1절을 맞아 애국선열들에게 감사와 경의를 표합니다. 독립유공자와 유가족에게도 존경과 감사의 말씀을 전합니다. 102년 전 오늘, 우리는 일제의 총칼에 맞서 독립을 위해 일어섰습니다. 3.1운동을 계기로 국내외의 독립투쟁은 더욱 힘차게 전개되었습니다. 오늘의 참여정부는 역사의 연장선 위에 서 있으며, 한반도의 평화를 정착시키는 일이 중요합니다. 국민 모두가 참된 주인으로서 국정에 참여하고 개혁을 추진해야 합니다.</code></pre>
</section>
<section id="ai-이미지" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> AI 이미지</h1>
<p>AI 이미지 생성 프롬프트를 작성하고, <a href="https://openai.com/dall-e-2">DALL·E 2 - OpenAI</a> <code>openai.Image.create()</code> 함수를 사용하면 AI 이미지를 생성할 수 있다.</p>
<p>서울 강남 거리를 AI 이미지로 생성해보자.</p>
<blockquote>
<p>프롬프트: streets of Gangnam Seoul Korea, summertime, bright and beautiful, cinematic landscape</p>
</blockquote>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb20"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 프롬프트 ----------------------</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>prompt <span class="op">=</span> <span class="st">&quot;streets of Gangnam Seoul Korea, summertime, bright and beautiful, cinematic landscape&quot;</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>gangnam_response <span class="op">=</span> openai.Image.create(</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    prompt<span class="op">=</span>prompt,</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    model<span class="op">=</span><span class="st">&quot;image-alpha-001&quot;</span>,</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    size<span class="op">=</span><span class="st">&quot;1024x1024&quot;</span>,</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    response_format<span class="op">=</span><span class="st">&quot;url&quot;</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gangnam_response[<span class="st">&quot;data&quot;</span>][<span class="dv">0</span>][<span class="st">&quot;url&quot;</span>])</span></code></pre></div>
</details>
</div>
<p>AI 생성이미지 바로가기: <a href="https://oaidalleapiprodscus.blob.core.windows.net/private/org-GpPkNlGHcRh9i7pQIlhT18p7/user-Qkv0ntrn5tQoUu6pocAidY5V/img-BHSmfeMCmONIkrl3nSHIZIR7.png?st=2023-07-21T05%3A08%3A01Z&amp;se=2023-07-21T07%3A08%3A01Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-07-20T20%3A06%3A58Z&amp;ske=2023-07-21T20%3A06%3A58Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=8G4gBoBYYHoklBNVR1ggHiURZulcxJ62y0YjJ/OJfkM%3D" class="uri">https://oaidalleapiprodscus.blob.core.windows.net/private/org-GpPkNlGHcRh9i7pQIlhT18p7/user-Qkv0ntrn5tQoUu6pocAidY5V/img-BHSmfeMCmONIkrl3nSHIZIR7.png?st=2023-07-21T05%3A08%3A01Z&amp;se=2023-07-21T07%3A08%3A01Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-07-20T20%3A06%3A58Z&amp;ske=2023-07-21T20%3A06%3A58Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=8G4gBoBYYHoklBNVR1ggHiURZulcxJ62y0YjJ/OJfkM%3D</a></p>
<section id="ai-이미지-후처리" class="level2" data-number="8.1">
<h2 data-number="8.1"><span class="header-section-number">8.1</span> AI 이미지 후처리</h2>
<p>웹에 이미지가 걸려있어 이를 로컬 파일로 다운로드 받아 후속 작업에 활용할 수 있도록 코드를 작성한다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb21"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> PIL <span class="im">import</span> Image</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> io</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 이미지 URL</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">&quot;https://oaidalleapiprodscus.blob.core.windows.net/private/org-GpPkNlGHcRh9i7pQIlhT18p7/user-Qkv0ntrn5tQoUu6pocAidY5V/img-BHSmfeMCmONIkrl3nSHIZIR7.png?st=2023-07-21T05%3A08%3A01Z&amp;se=2023-07-21T07%3A08%3A01Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-07-20T20%3A06%3A58Z&amp;ske=2023-07-21T20%3A06%3A58Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=8G4gBoBYYHoklBNVR1ggHiURZulcxJ62y0YjJ/OJfkM%3D&quot;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co"># GET 요청</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 이미지 가져오기</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>image <span class="op">=</span> Image.<span class="bu">open</span>(io.BytesIO(response.content))</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 이미지 JPEG 변환</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>image.save(<span class="st">&#39;images/dalle_image.jpeg&#39;</span>, <span class="st">&#39;JPEG&#39;</span>)</span></code></pre></div>
</details>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="images/dalle_image.jpeg" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="images/dalle_image.jpeg" class="img-fluid" /></a></p>
</figure>
</div>
</section>
</section>
<section id="임베딩" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> 임베딩</h1>
<p><strong>임베딩(Embedding)</strong> 일반적으로 실수 벡터의 형태로 텍스트 데이터를 수치로 표현한 것으로, 이를 통해서 표현된 벡터는 연속적인 벡터 공간에서 텍스트 데이터에 내재된 의미(semantic)를 포착한다.</p>
<p>실용적인 관점에서 임베딩은 실제 객체와 관계를 벡터로 표현하는 방식이다. 동일한 벡터 공간을 사용하여 두 사물이 얼마나 유사한지 측정하는 데 사용한다.</p>
<section id="텍스트-벡터-표현" class="level2" data-number="9.1">
<h2 data-number="9.1"><span class="header-section-number">9.1</span> 텍스트 벡터 표현</h2>
<p><code>text-embedding-ada-002</code> 모델은 빠르고 가성비가 뛰어난 임베딩 모델이다. “대한민국 수도는 서울입니다.” 이라는 문서를 벡터로 표현하면 다음과 같다. 즉, 1,536 차원을 갖는 공간에 하나의 점으로 표현될 수 있다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb22"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&quot;OPENAI_API_KEY&quot;</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>seoul_response <span class="op">=</span> openai.Embedding.create(</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span><span class="st">&quot;text-embedding-ada-002&quot;</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="bu">input</span><span class="op">=</span><span class="st">&quot;대한민국 수도는 서울입니다.&quot;</span>,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>seoul_embedding <span class="op">=</span> seoul_response[<span class="st">&quot;data&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;embedding&#39;</span>]</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;벡터길이: </span><span class="sc">{</span><span class="bu">len</span>(seoul_embedding)<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 벡터길이: 1536</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;벡터 일부: </span><span class="sc">{</span>seoul_embedding[:<span class="dv">10</span>]<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 벡터 일부: [0.014582998119294643, -0.018063032999634743, 0.004872684367001057, -0.013805408962070942, -0.031180081889033318, 0.025176068767905235, -0.034519895911216736, 0.011357911862432957, -0.007960736751556396, -0.0020682618487626314]</span></span></code></pre></div>
</details>
</div>
<p>마찬가지로 일본의 수도 도쿄도 벡터로 표현할 수 있다.</p>
<div class="cell">
<details>
<summary>코드</summary>
<div class="sourceCode" id="cb23"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>tokyo_response <span class="op">=</span> openai.Embedding.create(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span><span class="st">&quot;text-embedding-ada-002&quot;</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">input</span><span class="op">=</span><span class="st">&quot;일본 수도는 동경입니다.&quot;</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>tokyo_embedding <span class="op">=</span> tokyo_response[<span class="st">&quot;data&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;embedding&#39;</span>]</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;벡터길이: </span><span class="sc">{</span><span class="bu">len</span>(tokyo_embedding)<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 벡터길이: 1536</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;벡터 일부: </span><span class="sc">{</span>tokyo_embedding[:<span class="dv">10</span>]<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 벡터 일부: [0.010957648046314716, -0.013234060257673264, 0.009729413315653801, -0.011890077032148838, -0.03179261088371277, 0.03436483070254326, -0.029786281287670135, 0.008629790507256985, 0.01711810939013958, -0.0014733985299244523]</span></span></code></pre></div>
</details>
</div>
<div id="quarto-navigation-envelope" class="hidden">
<p><span class="hidden" data-render-id="quarto-int-sidebar-title">chatGPT</span> <span class="hidden" data-render-id="quarto-int-navbar-title">chatGPT</span> <span class="hidden" data-render-id="quarto-int-navbar:생성 AI">생성 AI</span> <span class="hidden" data-render-id="quarto-int-navbar:chatGPT 이해">chatGPT 이해</span> <span class="hidden" data-render-id="quarto-int-navbar:/architecture.html">/architecture.html</span> <span class="hidden" data-render-id="quarto-int-navbar:추세 트렌드">추세 트렌드</span> <span class="hidden" data-render-id="quarto-int-navbar:/trends.html">/trends.html</span> <span class="hidden" data-render-id="quarto-int-navbar:왜 거대언어모형인가?">왜 거대언어모형인가?</span> <span class="hidden" data-render-id="quarto-int-navbar:/why_llm.html">/why_llm.html</span> <span class="hidden" data-render-id="quarto-int-navbar:NLP와 LLM">NLP와 LLM</span> <span class="hidden" data-render-id="quarto-int-navbar:/nlp_LLM.html">/nlp_LLM.html</span> <span class="hidden" data-render-id="quarto-int-navbar:GPT-4 성능">GPT-4 성능</span> <span class="hidden" data-render-id="quarto-int-navbar:/gpt4_performance.html">/gpt4_performance.html</span> <span class="hidden" data-render-id="quarto-int-navbar:챗GPT 보안사고">챗GPT 보안사고</span> <span class="hidden" data-render-id="quarto-int-navbar:/gpt-security.html">/gpt-security.html</span> <span class="hidden" data-render-id="quarto-int-navbar:------------------">——————</span> <span class="hidden" data-render-id="quarto-int-navbar:인터페이스">인터페이스</span> <span class="hidden" data-render-id="quarto-int-navbar:/interface.html">/interface.html</span> <span class="hidden" data-render-id="quarto-int-navbar:오픈소스 S/W LLM">오픈소스 S/W LLM</span> <span class="hidden" data-render-id="quarto-int-navbar:/open_source.html">/open_source.html</span> <span class="hidden" data-render-id="quarto-int-navbar:chatGPT 응용사례">chatGPT 응용사례</span> <span class="hidden" data-render-id="quarto-int-navbar:활용사례">활용사례</span> <span class="hidden" data-render-id="quarto-int-navbar:/use-cases.html">/use-cases.html</span> <span class="hidden" data-render-id="quarto-int-navbar:법인 R 소개영상">법인 R 소개영상</span> <span class="hidden" data-render-id="quarto-int-navbar:/intro_avi.html">/intro_avi.html</span> <span class="hidden" data-render-id="quarto-int-navbar:맥북 투척사건">맥북 투척사건</span> <span class="hidden" data-render-id="quarto-int-navbar:/macbook.html">/macbook.html</span> <span class="hidden" data-render-id="quarto-int-navbar:오피스 전쟁">오피스 전쟁</span> <span class="hidden" data-render-id="quarto-int-navbar:/office.html">/office.html</span> <span class="hidden" data-render-id="quarto-int-navbar:보도자료 작성">보도자료 작성</span> <span class="hidden" data-render-id="quarto-int-navbar:/news_article.html">/news_article.html</span> <span class="hidden" data-render-id="quarto-int-navbar:데이터 과학 책">데이터 과학 책</span> <span class="hidden" data-render-id="quarto-int-navbar:/intro_book.html">/intro_book.html</span> <span class="hidden" data-render-id="quarto-int-navbar:논문 초록">논문 초록</span> <span class="hidden" data-render-id="quarto-int-navbar:/intro_paper.html">/intro_paper.html</span> <span class="hidden" data-render-id="quarto-int-navbar:학술연구(R&amp;D)">학술연구(R&amp;D)</span> <span class="hidden" data-render-id="quarto-int-navbar:/rnd.html">/rnd.html</span> <span class="hidden" data-render-id="quarto-int-navbar:멤버 Yuji">멤버 Yuji</span> <span class="hidden" data-render-id="quarto-int-navbar:/yuji.html">/yuji.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Stable Diffusion">Stable Diffusion</span> <span class="hidden" data-render-id="quarto-int-navbar:/stable_diffusion.html">/stable_diffusion.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Text-to-Images">Text-to-Images</span> <span class="hidden" data-render-id="quarto-int-navbar:/text_to_images.html">/text_to_images.html</span> <span class="hidden" data-render-id="quarto-int-navbar:`bitGPT` Text-to-Image"><code>bitGPT</code> Text-to-Image</span> <span class="hidden" data-render-id="quarto-int-navbar:/text2image.html">/text2image.html</span> <span class="hidden" data-render-id="quarto-int-navbar:삼전 주가예측">삼전 주가예측</span> <span class="hidden" data-render-id="quarto-int-navbar:/samsung.html">/samsung.html</span> <span class="hidden" data-render-id="quarto-int-navbar:계산기 프로그램">계산기 프로그램</span> <span class="hidden" data-render-id="quarto-int-navbar:/calculator.html">/calculator.html</span> <span class="hidden" data-render-id="quarto-int-navbar:GPT R 코딩개발">GPT R 코딩개발</span> <span class="hidden" data-render-id="quarto-int-navbar:/rcoding.html">/rcoding.html</span> <span class="hidden" data-render-id="quarto-int-navbar:부조종사 R 코딩개발">부조종사 R 코딩개발</span> <span class="hidden" data-render-id="quarto-int-navbar:/rcoding-copilot.html">/rcoding-copilot.html</span> <span class="hidden" data-render-id="quarto-int-navbar:수학: MIT / 수능">수학: MIT / 수능</span> <span class="hidden" data-render-id="quarto-int-navbar:/math.html">/math.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Shiny 앱">Shiny 앱</span> <span class="hidden" data-render-id="quarto-int-navbar:/middle_school.html">/middle_school.html</span> <span class="hidden" data-render-id="quarto-int-navbar:대통령 취임사">대통령 취임사</span> <span class="hidden" data-render-id="quarto-int-navbar:/inaugural.html">/inaugural.html</span> <span class="hidden" data-render-id="quarto-int-navbar:번역(영한, 한영)">번역(영한, 한영)</span> <span class="hidden" data-render-id="quarto-int-navbar:/translation.html">/translation.html</span> <span class="hidden" data-render-id="quarto-int-navbar:챗GPT 팀구성">챗GPT 팀구성</span> <span class="hidden" data-render-id="quarto-int-navbar:/gg_grouping.html">/gg_grouping.html</span> <span class="hidden" data-render-id="quarto-int-navbar:사업자등록증 API (국세청)">사업자등록증 API (국세청)</span> <span class="hidden" data-render-id="quarto-int-navbar:/biz_number_API.html">/biz_number_API.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Prompt Eng.">Prompt Eng.</span> <span class="hidden" data-render-id="quarto-int-navbar:Prompt Engineering">Prompt Engineering</span> <span class="hidden" data-render-id="quarto-int-navbar:/prompt.html">/prompt.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Advanced Prompt Engineering">Advanced Prompt Engineering</span> <span class="hidden" data-render-id="quarto-int-navbar:/prompt_adv.html">/prompt_adv.html</span> <span class="hidden" data-render-id="quarto-int-navbar:프롬프트 실무">프롬프트 실무</span> <span class="hidden" data-render-id="quarto-int-navbar:/prompt_in_practice.html">/prompt_in_practice.html</span> <span class="hidden" data-render-id="quarto-int-navbar:(개발자) 프롬프트 공학">(개발자) 프롬프트 공학</span> <span class="hidden" data-render-id="quarto-int-navbar:/prompt_for_develoopers.html">/prompt_for_develoopers.html</span> <span class="hidden" data-render-id="quarto-int-navbar:데이터 과학 프롬프트">데이터 과학 프롬프트</span> <span class="hidden" data-render-id="quarto-int-navbar:/prompt_data_science.html">/prompt_data_science.html</span> <span class="hidden" data-render-id="quarto-int-navbar:데이터 과학 인터뷰">데이터 과학 인터뷰</span> <span class="hidden" data-render-id="quarto-int-navbar:/interview.html">/interview.html</span> <span class="hidden" data-render-id="quarto-int-navbar:자동화/개발">자동화/개발</span> <span class="hidden" data-render-id="quarto-int-navbar:통합개발환경(IDE)">통합개발환경(IDE)</span> <span class="hidden" data-render-id="quarto-int-navbar:/ide.html">/ide.html</span> <span class="hidden" data-render-id="quarto-int-navbar:파이썬 환경구축">파이썬 환경구축</span> <span class="hidden" data-render-id="quarto-int-navbar:/reticulate.html">/reticulate.html</span> <span class="hidden" data-render-id="quarto-int-navbar:OpenAI API 프로그래밍">OpenAI API 프로그래밍</span> <span class="hidden" data-render-id="quarto-int-navbar:/openAI_api.html">/openAI_api.html</span> <span class="hidden" data-render-id="quarto-int-navbar:OpenAI API 응용프로그램">OpenAI API 응용프로그램</span> <span class="hidden" data-render-id="quarto-int-navbar:/openAI_api_apps.html">/openAI_api_apps.html</span> <span class="hidden" data-render-id="quarto-int-navbar:LangCahin 아키텍쳐">LangCahin 아키텍쳐</span> <span class="hidden" data-render-id="quarto-int-navbar:/langchain_arch.html">/langchain_arch.html</span> <span class="hidden" data-render-id="quarto-int-navbar:오정보 음성인식(Whisper)">오정보 음성인식(Whisper)</span> <span class="hidden" data-render-id="quarto-int-navbar:/whisper.html">/whisper.html</span> <span class="hidden" data-render-id="quarto-int-navbar:오정보 요약">오정보 요약</span> <span class="hidden" data-render-id="quarto-int-navbar:/news_release.html">/news_release.html</span> <span class="hidden" data-render-id="quarto-int-navbar:오정보 임베딩">오정보 임베딩</span> <span class="hidden" data-render-id="quarto-int-navbar:/misinfo_embedding.html">/misinfo_embedding.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Shiny 챗GPT">Shiny 챗GPT</span> <span class="hidden" data-render-id="quarto-int-navbar:/shiny_chatGPT.html">/shiny_chatGPT.html</span> <span class="hidden" data-render-id="quarto-int-navbar:펭귄 데이터셋">펭귄 데이터셋</span> <span class="hidden" data-render-id="quarto-int-navbar:/palmer_penguins.html">/palmer_penguins.html</span> <span class="hidden" data-render-id="quarto-int-navbar:챗GPT 펭귄 데이터 분석">챗GPT 펭귄 데이터 분석</span> <span class="hidden" data-render-id="quarto-int-navbar:/penguins_analytics.html">/penguins_analytics.html</span> <span class="hidden" data-render-id="quarto-int-navbar:AI 분석 도구">AI 분석 도구</span> <span class="hidden" data-render-id="quarto-int-navbar:/three_paradigm.html">/three_paradigm.html</span> <span class="hidden" data-render-id="quarto-int-navbar:심슨 패러독스">심슨 패러독스</span> <span class="hidden" data-render-id="quarto-int-navbar:/penguin_analysis.html">/penguin_analysis.html</span> <span class="hidden" data-render-id="quarto-int-navbar:데이터 과학 AutoGPT">데이터 과학 AutoGPT</span> <span class="hidden" data-render-id="quarto-int-navbar:판다스 AI">판다스 AI</span> <span class="hidden" data-render-id="quarto-int-navbar:/pandasai.html">/pandasai.html</span> <span class="hidden" data-render-id="quarto-int-navbar:펭귄: 라마인덱스">펭귄: 라마인덱스</span> <span class="hidden" data-render-id="quarto-int-navbar:/llama_penguins.html">/llama_penguins.html</span> <span class="hidden" data-render-id="quarto-int-navbar:챗GPT SQL">챗GPT SQL</span> <span class="hidden" data-render-id="quarto-int-navbar:/sql_openai.html">/sql_openai.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Hugging Face">Hugging Face</span> <span class="hidden" data-render-id="quarto-int-navbar:/hf.html">/hf.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Hugging Face(윈도우)">Hugging Face(윈도우)</span> <span class="hidden" data-render-id="quarto-int-navbar:/hf_windows.html">/hf_windows.html</span> <span class="hidden" data-render-id="quarto-int-navbar:HF 파이프라인">HF 파이프라인</span> <span class="hidden" data-render-id="quarto-int-navbar:/hf_pipeline.html">/hf_pipeline.html</span> <span class="hidden" data-render-id="quarto-int-navbar:HuggingfaceR - 모형통계">HuggingfaceR - 모형통계</span> <span class="hidden" data-render-id="quarto-int-navbar:/koGPT.html">/koGPT.html</span> <span class="hidden" data-render-id="quarto-int-navbar:BERT">BERT</span> <span class="hidden" data-render-id="quarto-int-navbar:/BERT.html">/BERT.html</span> <span class="hidden" data-render-id="quarto-int-navbar:게시글">게시글</span> <span class="hidden" data-render-id="quarto-int-navbar:/blog.html">/blog.html</span> <span class="hidden" data-render-id="quarto-int-navbar:비즈니스">비즈니스</span> <span class="hidden" data-render-id="quarto-int-navbar:챗GPT 개요">챗GPT 개요</span> <span class="hidden" data-render-id="quarto-int-navbar:/chatGPT_overview.html">/chatGPT_overview.html</span> <span class="hidden" data-render-id="quarto-int-navbar:https://github.com/bit2r/chatGPT">https://github.com/bit2r/chatGPT</span> <span class="hidden" data-render-id="quarto-int-navbar:R사용자회">R사용자회</span> <span class="hidden" data-render-id="quarto-int-navbar:https://r2bit.com">https://r2bit.com</span> <span class="hidden" data-render-id="quarto-int-navbar:Open Assistant">Open Assistant</span> <span class="hidden" data-render-id="quarto-int-navbar:https://github.com/LAION-AI/Open-Assistant">https://github.com/LAION-AI/Open-Assistant</span> <span class="hidden" data-render-id="quarto-int-navbar:RTutor">RTutor</span> <span class="hidden" data-render-id="quarto-int-navbar:https://rtutor.ai/">https://rtutor.ai/</span> <span class="hidden" data-render-id="quarto-int-navbar:About">About</span> <span class="hidden" data-render-id="quarto-int-navbar:/about.html">/about.html</span></p>
<div class="hidden" data-render-id="footer-left">
<p><a href="https://quarto.org/">Quarto</a> 개발</p>
</div>
<div class="hidden" data-render-id="footer-center">
<p><a href="mailto:admin@r2bit.com">한국 R 사용자회</a></p>
</div>
<div class="hidden" data-render-id="footer-right">
<p><a href="https://github.com/bit2r/chatGPT">Github 코드 저장소</a></p>
</div>
</div>
<div id="quarto-meta-markdown" class="hidden">
<p><span class="hidden" data-render-id="quarto-metatitle">chatGPT - 챗GPT</span> <span class="hidden" data-render-id="quarto-twittercardtitle">chatGPT - 챗GPT</span> <span class="hidden" data-render-id="quarto-ogcardtitle">chatGPT - 챗GPT</span> <span class="hidden" data-render-id="quarto-metasitename">chatGPT</span> <span class="hidden" data-render-id="quarto-twittercarddesc">OpenAI API 환경을 갖춘 후에 본격적인 응용프로그램 개발을 시작해보자.</span> <span class="hidden" data-render-id="quarto-ogcardddesc">OpenAI API 환경을 갖춘 후에 본격적인 응용프로그램 개발을 시작해보자.</span></p>
</div>
<!-- -->
<div class="quarto-embedded-source-code">
<div class="sourceCode" id="cb24" data-shortcodes="false"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> &quot;챗GPT&quot;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> &quot;OpenAI API 응용프로그램&quot;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> |</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co">  OpenAI API 환경을 갖춘 후에 본격적인 응용프로그램 개발을 시작해보자.</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co">  - name: 이광춘</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co">    url: https://www.linkedin.com/in/kwangchunlee/</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliation: 한국 R 사용자회</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliation-url: https://github.com/bit2r</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> today    </span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="an">title-block-banner:</span><span class="co"> true</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="co">#title-block-banner: &quot;#562457&quot;</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="co">    css: css/quarto.css</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="co">    theme: flatly</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="co">    code-overflow: wrap</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 3</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-title: 목차</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a><span class="co">    highlight-style: github    </span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a><span class="co">    self-contained: false</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a><span class="an">filters:</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a><span class="co">   - lightbox</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a><span class="an">lightbox:</span><span class="co"> auto</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a><span class="an">link-citations:</span><span class="co"> true</span></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a><span class="an">knitr:</span></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a><span class="co">  opts_chunk: </span></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a><span class="co">    eval: false</span></span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a><span class="co">    message: false</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a><span class="co">    warning: false</span></span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a><span class="co">    collapse: true</span></span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a><span class="co">    comment: &quot;#&gt;&quot; </span></span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a><span class="co">    R.options:</span></span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a><span class="co">      knitr.graphics.auto_pdf: true</span></span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> </span></span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a><span class="co">  markdown: </span></span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a><span class="co">    wrap: 72</span></span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a><span class="fu"># 들어가며</span></span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a><span class="in">`.env`</span> 파일에 OpenAI API-KEY 를 저장한 경우 <span class="in">`.gitignore`</span> 에 <span class="in">`.env`</span>를</span>
<span id="cb24-49"><a href="#cb24-49" aria-hidden="true" tabindex="-1"></a>기록하여 협업과 공개를 할 경우 주요 정보가 외부에 노출 되지 않도록</span>
<span id="cb24-50"><a href="#cb24-50" aria-hidden="true" tabindex="-1"></a>주의한다.</span>
<span id="cb24-51"><a href="#cb24-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-52"><a href="#cb24-52" aria-hidden="true" tabindex="-1"></a><span class="fu">## `openai` 패키지</span></span>
<span id="cb24-53"><a href="#cb24-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-54"><a href="#cb24-54" aria-hidden="true" tabindex="-1"></a>GitHub 저장소 [OpenAI Python</span>
<span id="cb24-55"><a href="#cb24-55" aria-hidden="true" tabindex="-1"></a>Library](https://github.com/openai/openai-python)의 <span class="in">`openai`</span> 파이썬</span>
<span id="cb24-56"><a href="#cb24-56" aria-hidden="true" tabindex="-1"></a>패키지를 설치한 후 버전을 확인한다.</span>
<span id="cb24-57"><a href="#cb24-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-58"><a href="#cb24-58" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-59"><a href="#cb24-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-60"><a href="#cb24-60" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-61"><a href="#cb24-61" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb24-62"><a href="#cb24-62" aria-hidden="true" tabindex="-1"></a><span class="op">!</span> pip show openai</span>
<span id="cb24-63"><a href="#cb24-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-64"><a href="#cb24-64" aria-hidden="true" tabindex="-1"></a>Name: openai</span>
<span id="cb24-65"><a href="#cb24-65" aria-hidden="true" tabindex="-1"></a>Version: <span class="fl">0.27.2</span></span>
<span id="cb24-66"><a href="#cb24-66" aria-hidden="true" tabindex="-1"></a>Summary: Python client library <span class="cf">for</span> the OpenAI API</span>
<span id="cb24-67"><a href="#cb24-67" aria-hidden="true" tabindex="-1"></a>Home<span class="op">-</span>page: https:<span class="op">//</span>github.com<span class="op">/</span>openai<span class="op">/</span>openai<span class="op">-</span>python</span>
<span id="cb24-68"><a href="#cb24-68" aria-hidden="true" tabindex="-1"></a>Author: OpenAI</span>
<span id="cb24-69"><a href="#cb24-69" aria-hidden="true" tabindex="-1"></a>Author<span class="op">-</span>email: support<span class="op">@</span>openai.com</span>
<span id="cb24-70"><a href="#cb24-70" aria-hidden="true" tabindex="-1"></a>License: </span>
<span id="cb24-71"><a href="#cb24-71" aria-hidden="true" tabindex="-1"></a>Location: c:\miniconda\envs\r<span class="op">-</span>reticulate\lib\site<span class="op">-</span>packages</span>
<span id="cb24-72"><a href="#cb24-72" aria-hidden="true" tabindex="-1"></a>Requires: aiohttp, requests, tqdm</span>
<span id="cb24-73"><a href="#cb24-73" aria-hidden="true" tabindex="-1"></a>Required<span class="op">-</span>by: </span>
<span id="cb24-74"><a href="#cb24-74" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-75"><a href="#cb24-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-76"><a href="#cb24-76" aria-hidden="true" tabindex="-1"></a><span class="fu">## `gpt-4` 모델</span></span>
<span id="cb24-77"><a href="#cb24-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-78"><a href="#cb24-78" aria-hidden="true" tabindex="-1"></a><span class="in">`gpt-3.5-turbo`</span> 모형은 속도가 빠르고 API 호출 당 가격이 저렴하지만,</span>
<span id="cb24-79"><a href="#cb24-79" aria-hidden="true" tabindex="-1"></a>성능이 <span class="in">`gpt-4`</span> 보다 낮은 것으로 알려져 있다. <span class="in">`max_tokens`</span> 크기를</span>
<span id="cb24-80"><a href="#cb24-80" aria-hidden="true" tabindex="-1"></a>달리하여 API 반환길이를 조절할 수 있고, <span class="in">`temperature`</span> 값을 달리하여</span>
<span id="cb24-81"><a href="#cb24-81" aria-hidden="true" tabindex="-1"></a>사실에 보다 가까운 값을 얻고자 할 경우 0으로 그렇지 않고 다양한 창의적인</span>
<span id="cb24-82"><a href="#cb24-82" aria-hidden="true" tabindex="-1"></a>응답을 원할 경우 0 보다 큰 값을 지정한다.</span>
<span id="cb24-83"><a href="#cb24-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-84"><a href="#cb24-84" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-85"><a href="#cb24-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-86"><a href="#cb24-86" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-87"><a href="#cb24-87" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb24-88"><a href="#cb24-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-89"><a href="#cb24-89" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb24-90"><a href="#cb24-90" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb24-91"><a href="#cb24-91" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb24-92"><a href="#cb24-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-93"><a href="#cb24-93" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb24-94"><a href="#cb24-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-95"><a href="#cb24-95" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb24-96"><a href="#cb24-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-97"><a href="#cb24-97" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> ChatCompletion.create(</span>
<span id="cb24-98"><a href="#cb24-98" aria-hidden="true" tabindex="-1"></a>  model       <span class="op">=</span> <span class="st">&quot;gpt-4&quot;</span>,</span>
<span id="cb24-99"><a href="#cb24-99" aria-hidden="true" tabindex="-1"></a>  messages    <span class="op">=</span> [</span>
<span id="cb24-100"><a href="#cb24-100" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;system&quot;</span>, <span class="st">&quot;content&quot;</span>: <span class="st">&quot;You are a helpful assistant.&quot;</span>},</span>
<span id="cb24-101"><a href="#cb24-101" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;user&quot;</span>, <span class="st">&quot;content&quot;</span>: <span class="st">&quot;파이썬하고 R 하고 싸우면 누가 이겨?&quot;</span>}</span>
<span id="cb24-102"><a href="#cb24-102" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb24-103"><a href="#cb24-103" aria-hidden="true" tabindex="-1"></a>  max_tokens   <span class="op">=</span> <span class="dv">100</span>,</span>
<span id="cb24-104"><a href="#cb24-104" aria-hidden="true" tabindex="-1"></a>  temperature  <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb24-105"><a href="#cb24-105" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-106"><a href="#cb24-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-107"><a href="#cb24-107" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response[<span class="st">&quot;choices&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;message&#39;</span>][<span class="st">&#39;content&#39;</span>])</span>
<span id="cb24-108"><a href="#cb24-108" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-109"><a href="#cb24-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-110"><a href="#cb24-110" aria-hidden="true" tabindex="-1"></a><span class="in">``` bash</span></span>
<span id="cb24-111"><a href="#cb24-111" aria-hidden="true" tabindex="-1"></a><span class="ex">파이썬과</span> R은 프로그래밍 언어로, 싸우는 것이 아니라 각각의 특성과 용도에 따라 사용됩니다. </span>
<span id="cb24-112"><a href="#cb24-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-113"><a href="#cb24-113" aria-hidden="true" tabindex="-1"></a><span class="ex">파이썬은</span> 범용 프로그래밍 언어로, 웹 개발, 데이터 분석, 인공 지능 등 다양한 분야에서 사용됩니다.</span>
<span id="cb24-114"><a href="#cb24-114" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-115"><a href="#cb24-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-116"><a href="#cb24-116" aria-hidden="true" tabindex="-1"></a><span class="fu"># `Completion`과 `ChatCompletion`</span></span>
<span id="cb24-117"><a href="#cb24-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-118"><a href="#cb24-118" aria-hidden="true" tabindex="-1"></a><span class="in">`openai.Completion.create()`</span> 함수를 사용하여 <span class="in">`text-davinci-003`</span>,</span>
<span id="cb24-119"><a href="#cb24-119" aria-hidden="true" tabindex="-1"></a><span class="in">`text-davinci-002`</span>, <span class="in">`ada`</span>, <span class="in">`babbage`</span>, <span class="in">`curie`</span>, <span class="in">`davinci`</span> 등 텍스트 완성</span>
<span id="cb24-120"><a href="#cb24-120" aria-hidden="true" tabindex="-1"></a>기능을 사용할 수 있다. 하지만, <span class="in">`openai.ChatCompletion.create()`</span> 함수가</span>
<span id="cb24-121"><a href="#cb24-121" aria-hidden="true" tabindex="-1"></a>대세로 떠올랐으며 <span class="in">`gpt-4`</span>를 비롯한 고급 모형과 AI 고급기능을 사용할 경우</span>
<span id="cb24-122"><a href="#cb24-122" aria-hidden="true" tabindex="-1"></a>비용이 높아지는 단점도 있다. 가성비가 뛰어난 LLM 모형을 선택하여 해당</span>
<span id="cb24-123"><a href="#cb24-123" aria-hidden="true" tabindex="-1"></a>기능을 구현하고 문제를 풀어가는 지혜가 필요하다.</span>
<span id="cb24-124"><a href="#cb24-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-125"><a href="#cb24-125" aria-hidden="true" tabindex="-1"></a>[<span class="co">[</span><span class="ot">OpenAI Pricing</span><span class="co">](https://openai.com/pricing)</span>]{.aside}</span>
<span id="cb24-126"><a href="#cb24-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-127"><a href="#cb24-127" aria-hidden="true" tabindex="-1"></a><span class="fu"># `openai` 모형</span></span>
<span id="cb24-128"><a href="#cb24-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-129"><a href="#cb24-129" aria-hidden="true" tabindex="-1"></a><span class="in">`openai`</span> API를 사용할 때 다양한 모형에 대한 확인이 필요하다. 이를 위해서</span>
<span id="cb24-130"><a href="#cb24-130" aria-hidden="true" tabindex="-1"></a>API 호출을 통해 이용가능한 모형을 확인한다. 특히, 수시로 OpenAI에서</span>
<span id="cb24-131"><a href="#cb24-131" aria-hidden="true" tabindex="-1"></a>제공되는 모형이 생겨나고 없어지기 때문에 API를 사용한 AI 모형을 개발할</span>
<span id="cb24-132"><a href="#cb24-132" aria-hidden="true" tabindex="-1"></a>때 특히 주의한다.</span>
<span id="cb24-133"><a href="#cb24-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-134"><a href="#cb24-134" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-135"><a href="#cb24-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-136"><a href="#cb24-136" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-137"><a href="#cb24-137" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> list_all_models():</span>
<span id="cb24-138"><a href="#cb24-138" aria-hidden="true" tabindex="-1"></a>    model_list <span class="op">=</span> openai.Model.<span class="bu">list</span>()[<span class="st">&#39;data&#39;</span>]</span>
<span id="cb24-139"><a href="#cb24-139" aria-hidden="true" tabindex="-1"></a>    model_ids <span class="op">=</span> [x[<span class="st">&#39;id&#39;</span>] <span class="cf">for</span> x <span class="kw">in</span> model_list]</span>
<span id="cb24-140"><a href="#cb24-140" aria-hidden="true" tabindex="-1"></a>    model_ids.sort()</span>
<span id="cb24-141"><a href="#cb24-141" aria-hidden="true" tabindex="-1"></a>    pprint.pprint(model_ids)</span>
<span id="cb24-142"><a href="#cb24-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-143"><a href="#cb24-143" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</span>
<span id="cb24-144"><a href="#cb24-144" aria-hidden="true" tabindex="-1"></a>    list_all_models()</span>
<span id="cb24-145"><a href="#cb24-145" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-146"><a href="#cb24-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-147"><a href="#cb24-147" aria-hidden="true" tabindex="-1"></a><span class="in">``` bash</span></span>
<span id="cb24-148"><a href="#cb24-148" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">&#39;ada&#39;</span><span class="ex">,</span></span>
<span id="cb24-149"><a href="#cb24-149" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;ada-code-search-code&#39;</span><span class="ex">,</span></span>
<span id="cb24-150"><a href="#cb24-150" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;ada-code-search-text&#39;</span><span class="ex">,</span></span>
<span id="cb24-151"><a href="#cb24-151" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;ada-search-document&#39;</span><span class="ex">,</span></span>
<span id="cb24-152"><a href="#cb24-152" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;ada-search-query&#39;</span><span class="ex">,</span></span>
<span id="cb24-153"><a href="#cb24-153" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;ada-similarity&#39;</span><span class="ex">,</span></span>
<span id="cb24-154"><a href="#cb24-154" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage&#39;</span><span class="ex">,</span></span>
<span id="cb24-155"><a href="#cb24-155" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage-code-search-code&#39;</span><span class="ex">,</span></span>
<span id="cb24-156"><a href="#cb24-156" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage-code-search-text&#39;</span><span class="ex">,</span></span>
<span id="cb24-157"><a href="#cb24-157" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage-search-document&#39;</span><span class="ex">,</span></span>
<span id="cb24-158"><a href="#cb24-158" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage-search-query&#39;</span><span class="ex">,</span></span>
<span id="cb24-159"><a href="#cb24-159" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;babbage-similarity&#39;</span><span class="ex">,</span></span>
<span id="cb24-160"><a href="#cb24-160" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;code-davinci-edit-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-161"><a href="#cb24-161" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;code-search-ada-code-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-162"><a href="#cb24-162" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;code-search-ada-text-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-163"><a href="#cb24-163" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;code-search-babbage-code-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-164"><a href="#cb24-164" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;code-search-babbage-text-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-165"><a href="#cb24-165" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;curie&#39;</span><span class="ex">,</span></span>
<span id="cb24-166"><a href="#cb24-166" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;curie-instruct-beta&#39;</span><span class="ex">,</span></span>
<span id="cb24-167"><a href="#cb24-167" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;curie-search-document&#39;</span><span class="ex">,</span></span>
<span id="cb24-168"><a href="#cb24-168" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;curie-search-query&#39;</span><span class="ex">,</span></span>
<span id="cb24-169"><a href="#cb24-169" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;curie-similarity&#39;</span><span class="ex">,</span></span>
<span id="cb24-170"><a href="#cb24-170" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;davinci&#39;</span><span class="ex">,</span></span>
<span id="cb24-171"><a href="#cb24-171" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;davinci-instruct-beta&#39;</span><span class="ex">,</span></span>
<span id="cb24-172"><a href="#cb24-172" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;davinci-search-document&#39;</span><span class="ex">,</span></span>
<span id="cb24-173"><a href="#cb24-173" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;davinci-search-query&#39;</span><span class="ex">,</span></span>
<span id="cb24-174"><a href="#cb24-174" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;davinci-similarity&#39;</span><span class="ex">,</span></span>
<span id="cb24-175"><a href="#cb24-175" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-3.5-turbo&#39;</span><span class="ex">,</span></span>
<span id="cb24-176"><a href="#cb24-176" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-3.5-turbo-0301&#39;</span><span class="ex">,</span></span>
<span id="cb24-177"><a href="#cb24-177" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-3.5-turbo-0613&#39;</span><span class="ex">,</span></span>
<span id="cb24-178"><a href="#cb24-178" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-3.5-turbo-16k&#39;</span><span class="ex">,</span></span>
<span id="cb24-179"><a href="#cb24-179" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-3.5-turbo-16k-0613&#39;</span><span class="ex">,</span></span>
<span id="cb24-180"><a href="#cb24-180" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-4&#39;</span><span class="ex">,</span></span>
<span id="cb24-181"><a href="#cb24-181" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-4-0314&#39;</span><span class="ex">,</span></span>
<span id="cb24-182"><a href="#cb24-182" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;gpt-4-0613&#39;</span><span class="ex">,</span></span>
<span id="cb24-183"><a href="#cb24-183" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-ada-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-184"><a href="#cb24-184" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-babbage-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-185"><a href="#cb24-185" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-curie-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-186"><a href="#cb24-186" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-davinci-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-187"><a href="#cb24-187" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-davinci-002&#39;</span><span class="ex">,</span></span>
<span id="cb24-188"><a href="#cb24-188" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-davinci-003&#39;</span><span class="ex">,</span></span>
<span id="cb24-189"><a href="#cb24-189" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-davinci-edit-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-190"><a href="#cb24-190" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-embedding-ada-002&#39;</span><span class="ex">,</span></span>
<span id="cb24-191"><a href="#cb24-191" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-ada-doc-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-192"><a href="#cb24-192" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-ada-query-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-193"><a href="#cb24-193" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-babbage-doc-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-194"><a href="#cb24-194" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-babbage-query-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-195"><a href="#cb24-195" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-curie-doc-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-196"><a href="#cb24-196" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-curie-query-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-197"><a href="#cb24-197" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-davinci-doc-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-198"><a href="#cb24-198" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-search-davinci-query-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-199"><a href="#cb24-199" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-similarity-ada-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-200"><a href="#cb24-200" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-similarity-babbage-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-201"><a href="#cb24-201" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-similarity-curie-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-202"><a href="#cb24-202" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;text-similarity-davinci-001&#39;</span><span class="ex">,</span></span>
<span id="cb24-203"><a href="#cb24-203" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;whisper-1&#39;</span><span class="ex">]</span></span>
<span id="cb24-204"><a href="#cb24-204" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-205"><a href="#cb24-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-206"><a href="#cb24-206" aria-hidden="true" tabindex="-1"></a><span class="fu"># 중재(Moderation)</span></span>
<span id="cb24-207"><a href="#cb24-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-208"><a href="#cb24-208" aria-hidden="true" tabindex="-1"></a>AI LLM 모형에 입력값으로 전달되는 다양한 텍스트에 부적절한 내용이</span>
<span id="cb24-209"><a href="#cb24-209" aria-hidden="true" tabindex="-1"></a>담겨있을 수 있다. AI 제품을 제작할 때 이를 사전에 감지하여 적절한 조치를</span>
<span id="cb24-210"><a href="#cb24-210" aria-hidden="true" tabindex="-1"></a>취하는 것이 필요하다.</span>
<span id="cb24-211"><a href="#cb24-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-212"><a href="#cb24-212" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-213"><a href="#cb24-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-214"><a href="#cb24-214" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-215"><a href="#cb24-215" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb24-216"><a href="#cb24-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-217"><a href="#cb24-217" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb24-218"><a href="#cb24-218" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb24-219"><a href="#cb24-219" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb24-220"><a href="#cb24-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-221"><a href="#cb24-221" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb24-222"><a href="#cb24-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-223"><a href="#cb24-223" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb24-224"><a href="#cb24-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-225"><a href="#cb24-225" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> openai.Moderation.create(</span>
<span id="cb24-226"><a href="#cb24-226" aria-hidden="true" tabindex="-1"></a>  model <span class="op">=</span> <span class="st">&quot;text-moderation-latest&quot;</span>,</span>
<span id="cb24-227"><a href="#cb24-227" aria-hidden="true" tabindex="-1"></a>  <span class="bu">input</span> <span class="op">=</span> <span class="st">&quot;정신병자 천국이구나&quot;</span></span>
<span id="cb24-228"><a href="#cb24-228" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-229"><a href="#cb24-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-230"><a href="#cb24-230" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response)</span>
<span id="cb24-231"><a href="#cb24-231" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-232"><a href="#cb24-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-233"><a href="#cb24-233" aria-hidden="true" tabindex="-1"></a><span class="in">``` bash</span></span>
<span id="cb24-234"><a href="#cb24-234" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; {</span></span>
<span id="cb24-235"><a href="#cb24-235" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &quot;id&quot;: &quot;modr-7dwWS1RCU6qbmrmJNQOZrxElV6Qsa&quot;,</span></span>
<span id="cb24-236"><a href="#cb24-236" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &quot;model&quot;: &quot;text-moderation-005&quot;,</span></span>
<span id="cb24-237"><a href="#cb24-237" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &quot;results&quot;: [</span></span>
<span id="cb24-238"><a href="#cb24-238" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     {</span></span>
<span id="cb24-239"><a href="#cb24-239" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &quot;flagged&quot;: false,</span></span>
<span id="cb24-240"><a href="#cb24-240" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &quot;categories&quot;: {</span></span>
<span id="cb24-241"><a href="#cb24-241" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;sexual&quot;: false,</span></span>
<span id="cb24-242"><a href="#cb24-242" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;hate&quot;: false,</span></span>
<span id="cb24-243"><a href="#cb24-243" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;harassment&quot;: false,</span></span>
<span id="cb24-244"><a href="#cb24-244" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm&quot;: false,</span></span>
<span id="cb24-245"><a href="#cb24-245" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;sexual/minors&quot;: false,</span></span>
<span id="cb24-246"><a href="#cb24-246" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;hate/threatening&quot;: false,</span></span>
<span id="cb24-247"><a href="#cb24-247" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;violence/graphic&quot;: false,</span></span>
<span id="cb24-248"><a href="#cb24-248" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm/intent&quot;: false,</span></span>
<span id="cb24-249"><a href="#cb24-249" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm/instructions&quot;: false,</span></span>
<span id="cb24-250"><a href="#cb24-250" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;harassment/threatening&quot;: false,</span></span>
<span id="cb24-251"><a href="#cb24-251" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;violence&quot;: false</span></span>
<span id="cb24-252"><a href="#cb24-252" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       },</span></span>
<span id="cb24-253"><a href="#cb24-253" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &quot;category_scores&quot;: {</span></span>
<span id="cb24-254"><a href="#cb24-254" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;sexual&quot;: 4.693797e-05,</span></span>
<span id="cb24-255"><a href="#cb24-255" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;hate&quot;: 0.000676339,</span></span>
<span id="cb24-256"><a href="#cb24-256" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;harassment&quot;: 0.0005268965,</span></span>
<span id="cb24-257"><a href="#cb24-257" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm&quot;: 9.536401e-06,</span></span>
<span id="cb24-258"><a href="#cb24-258" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;sexual/minors&quot;: 8.569186e-07,</span></span>
<span id="cb24-259"><a href="#cb24-259" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;hate/threatening&quot;: 0.0012578131,</span></span>
<span id="cb24-260"><a href="#cb24-260" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;violence/graphic&quot;: 9.558387e-07,</span></span>
<span id="cb24-261"><a href="#cb24-261" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm/intent&quot;: 2.2572526e-06,</span></span>
<span id="cb24-262"><a href="#cb24-262" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;self-harm/instructions&quot;: 2.0226207e-06,</span></span>
<span id="cb24-263"><a href="#cb24-263" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;harassment/threatening&quot;: 0.00021643011,</span></span>
<span id="cb24-264"><a href="#cb24-264" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &quot;violence&quot;: 1.2982889e-05</span></span>
<span id="cb24-265"><a href="#cb24-265" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       }</span></span>
<span id="cb24-266"><a href="#cb24-266" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     }</span></span>
<span id="cb24-267"><a href="#cb24-267" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ]</span></span>
<span id="cb24-268"><a href="#cb24-268" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; }</span></span>
<span id="cb24-269"><a href="#cb24-269" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-270"><a href="#cb24-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-271"><a href="#cb24-271" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">욕설 감지 데이터셋</span><span class="co">](https://github.com/2runo/Curse-detection-data)</span>에서</span>
<span id="cb24-272"><a href="#cb24-272" aria-hidden="true" tabindex="-1"></a>욕설로 라벨링된 텍스트를 하나 가져와서 살펴본다. 결과는 욕설 뿐만 아니라</span>
<span id="cb24-273"><a href="#cb24-273" aria-hidden="true" tabindex="-1"></a>다양한 측면에서 해당 프롬프트 텍스트에 대한 평가결과를 제시하고 있다.</span>
<span id="cb24-274"><a href="#cb24-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-275"><a href="#cb24-275" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-276"><a href="#cb24-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-277"><a href="#cb24-277" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb24-278"><a href="#cb24-278" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb24-279"><a href="#cb24-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-280"><a href="#cb24-280" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb24-281"><a href="#cb24-281" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb24-282"><a href="#cb24-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-283"><a href="#cb24-283" aria-hidden="true" tabindex="-1"></a>moderation_part_1 <span class="ot">&lt;-</span> py<span class="sc">$</span>response<span class="sc">$</span>results[[<span class="dv">1</span>]]<span class="sc">$</span>categories <span class="sc">|&gt;</span> </span>
<span id="cb24-284"><a href="#cb24-284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">enframe</span>(<span class="at">name =</span> <span class="st">&quot;구분&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb24-285"><a href="#cb24-285" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(판정 <span class="ot">=</span> <span class="fu">map_lgl</span>(value, <span class="dv">1</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb24-286"><a href="#cb24-286" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(구분, 판정)</span>
<span id="cb24-287"><a href="#cb24-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-288"><a href="#cb24-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-289"><a href="#cb24-289" aria-hidden="true" tabindex="-1"></a>moderation_part_2 <span class="ot">&lt;-</span> py<span class="sc">$</span>response<span class="sc">$</span>results[[<span class="dv">1</span>]]<span class="sc">$</span>category_scores <span class="sc">|&gt;</span> </span>
<span id="cb24-290"><a href="#cb24-290" aria-hidden="true" tabindex="-1"></a>  <span class="fu">enframe</span>(<span class="at">name =</span> <span class="st">&quot;구분&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb24-291"><a href="#cb24-291" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(점수 <span class="ot">=</span> <span class="fu">map_dbl</span>(value, <span class="dv">1</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb24-292"><a href="#cb24-292" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(구분, 점수)</span>
<span id="cb24-293"><a href="#cb24-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-294"><a href="#cb24-294" aria-hidden="true" tabindex="-1"></a>moderation_tbl <span class="ot">&lt;-</span> <span class="fu">left_join</span>(moderation_part_1, moderation_part_2)</span>
<span id="cb24-295"><a href="#cb24-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-296"><a href="#cb24-296" aria-hidden="true" tabindex="-1"></a>moderation_tbl <span class="sc">|&gt;</span> </span>
<span id="cb24-297"><a href="#cb24-297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(점수))</span>
<span id="cb24-298"><a href="#cb24-298" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-299"><a href="#cb24-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-300"><a href="#cb24-300" aria-hidden="true" tabindex="-1"></a><span class="in">``` bash</span></span>
<span id="cb24-301"><a href="#cb24-301" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 11 × 3</span></span>
<span id="cb24-302"><a href="#cb24-302" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    구분                   판정         점수</span></span>
<span id="cb24-303"><a href="#cb24-303" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                  &lt;lgl&gt;       &lt;dbl&gt;</span></span>
<span id="cb24-304"><a href="#cb24-304" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 hate/threatening       FALSE 0.00126    </span></span>
<span id="cb24-305"><a href="#cb24-305" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 hate                   FALSE 0.000676   </span></span>
<span id="cb24-306"><a href="#cb24-306" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 harassment             FALSE 0.000527   </span></span>
<span id="cb24-307"><a href="#cb24-307" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 harassment/threatening FALSE 0.000216   </span></span>
<span id="cb24-308"><a href="#cb24-308" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 sexual                 FALSE 0.0000469  </span></span>
<span id="cb24-309"><a href="#cb24-309" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 violence               FALSE 0.0000130  </span></span>
<span id="cb24-310"><a href="#cb24-310" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 self-harm              FALSE 0.00000954 </span></span>
<span id="cb24-311"><a href="#cb24-311" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 self-harm/intent       FALSE 0.00000226 </span></span>
<span id="cb24-312"><a href="#cb24-312" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 self-harm/instructions FALSE 0.00000202 </span></span>
<span id="cb24-313"><a href="#cb24-313" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 violence/graphic       FALSE 0.000000956</span></span>
<span id="cb24-314"><a href="#cb24-314" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 sexual/minors          FALSE 0.000000857</span></span>
<span id="cb24-315"><a href="#cb24-315" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-316"><a href="#cb24-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-317"><a href="#cb24-317" aria-hidden="true" tabindex="-1"></a><span class="fu"># 음성</span></span>
<span id="cb24-318"><a href="#cb24-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-319"><a href="#cb24-319" aria-hidden="true" tabindex="-1"></a>행정안전부</span>
<span id="cb24-320"><a href="#cb24-320" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">대통령기록관</span><span class="co">](https://www.pa.go.kr/research/contents/speech/index.jsp)</span>에</span>
<span id="cb24-321"><a href="#cb24-321" aria-hidden="true" tabindex="-1"></a>연설기록 중 연설음성에서 제84주년 3.1절 기념식 노무현 대통령 음성원고를</span>
<span id="cb24-322"><a href="#cb24-322" aria-hidden="true" tabindex="-1"></a>대상으로 OpenAI Whisper API를 사용해서 텍스트를 추출해보자.</span>
<span id="cb24-323"><a href="#cb24-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-324"><a href="#cb24-324" aria-hidden="true" tabindex="-1"></a><span class="fu">## 연설문 낭독</span></span>
<span id="cb24-325"><a href="#cb24-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-326"><a href="#cb24-326" aria-hidden="true" tabindex="-1"></a>&#39;제84주년 3.1절&#39; 기념행사에서 노무현 대통령이 낭독한 연설문을 요약하면</span>
<span id="cb24-327"><a href="#cb24-327" aria-hidden="true" tabindex="-1"></a>다음과 같다.</span>
<span id="cb24-328"><a href="#cb24-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-329"><a href="#cb24-329" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; 3.1절을 맞아 일제에 항거한 애국선열들께 감사와 경의 표함. 국민통합과</span></span>
<span id="cb24-330"><a href="#cb24-330" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; 개혁으로 평화와 번영의 동북아시대를 열어가고 자랑스런 대한민국을 우리</span></span>
<span id="cb24-331"><a href="#cb24-331" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; 후손에게 물려줄 것을 연설했다.</span></span>
<span id="cb24-332"><a href="#cb24-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-333"><a href="#cb24-333" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Audacity</span><span class="co">](https://www.audacityteam.org/download/)</span> 프로그램에서 불필요한</span>
<span id="cb24-334"><a href="#cb24-334" aria-hidden="true" tabindex="-1"></a>부분 삭제하고 해당 연설문만 추출하여 <span class="in">`.mp3`</span> 파일로 준비한다.</span>
<span id="cb24-335"><a href="#cb24-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-336"><a href="#cb24-336" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-337"><a href="#cb24-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-338"><a href="#cb24-338" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb24-339"><a href="#cb24-339" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb24-340"><a href="#cb24-340" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(av)</span>
<span id="cb24-341"><a href="#cb24-341" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(embedr)</span>
<span id="cb24-342"><a href="#cb24-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-343"><a href="#cb24-343" aria-hidden="true" tabindex="-1"></a>embedr<span class="sc">::</span><span class="fu">embed_audio</span>(<span class="st">&quot;data/제84주년_31절_기념사_노무현.mp3&quot;</span>)</span>
<span id="cb24-344"><a href="#cb24-344" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-345"><a href="#cb24-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-346"><a href="#cb24-346" aria-hidden="true" tabindex="-1"></a><span class="fu">## `.mp3` → 텍스트</span></span>
<span id="cb24-347"><a href="#cb24-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-348"><a href="#cb24-348" aria-hidden="true" tabindex="-1"></a>OpenAI Whisper API를 사용하여 음성을 TXT로 변환하는 작업을 수행한다.</span>
<span id="cb24-349"><a href="#cb24-349" aria-hidden="true" tabindex="-1"></a><span class="in">`.mp3`</span> 파일을 준비하고,<span class="in">`Audio.transcribe()`</span> 함수를 사용하여 <span class="in">`.txt`</span></span>
<span id="cb24-350"><a href="#cb24-350" aria-hidden="true" tabindex="-1"></a>텍스트 파일로 저장한다.</span>
<span id="cb24-351"><a href="#cb24-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-352"><a href="#cb24-352" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-353"><a href="#cb24-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-354"><a href="#cb24-354" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-355"><a href="#cb24-355" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb24-356"><a href="#cb24-356" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb24-357"><a href="#cb24-357" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb24-358"><a href="#cb24-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-359"><a href="#cb24-359" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb24-360"><a href="#cb24-360" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb24-361"><a href="#cb24-361" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb24-362"><a href="#cb24-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-363"><a href="#cb24-363" aria-hidden="true" tabindex="-1"></a><span class="co"># STT --------------------------</span></span>
<span id="cb24-364"><a href="#cb24-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-365"><a href="#cb24-365" aria-hidden="true" tabindex="-1"></a>speech_file <span class="op">=</span> <span class="bu">open</span>(<span class="st">&quot;data/제84주년_31절_기념사_노무현.mp3&quot;</span>, <span class="st">&quot;rb&quot;</span>)</span>
<span id="cb24-366"><a href="#cb24-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-367"><a href="#cb24-367" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> openai.Audio.transcribe(<span class="st">&quot;whisper-1&quot;</span>, speech_file)</span>
<span id="cb24-368"><a href="#cb24-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-369"><a href="#cb24-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-370"><a href="#cb24-370" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;data/stt_audio.txt&quot;</span>, <span class="st">&quot;w&quot;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb24-371"><a href="#cb24-371" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.write(response[<span class="st">&quot;text&quot;</span>])</span>
<span id="cb24-372"><a href="#cb24-372" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-373"><a href="#cb24-373" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-374"><a href="#cb24-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-375"><a href="#cb24-375" aria-hidden="true" tabindex="-1"></a><span class="fu">## 후처리</span></span>
<span id="cb24-376"><a href="#cb24-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-377"><a href="#cb24-377" aria-hidden="true" tabindex="-1"></a>STT를 통해 나온 텍스트는 사람이 읽기에는 가독성이 무척 떨어지는 텍스트에</span>
<span id="cb24-378"><a href="#cb24-378" aria-hidden="true" tabindex="-1"></a>불과하다. 이를 읽을 수 있도록 후처리를 한다.</span>
<span id="cb24-379"><a href="#cb24-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-380"><a href="#cb24-380" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb24-381"><a href="#cb24-381" aria-hidden="true" tabindex="-1"></a><span class="fu">### 음성원고 원문</span></span>
<span id="cb24-382"><a href="#cb24-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-383"><a href="#cb24-383" aria-hidden="true" tabindex="-1"></a>존경하는 국민 여러분,</span>
<span id="cb24-384"><a href="#cb24-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-385"><a href="#cb24-385" aria-hidden="true" tabindex="-1"></a>오늘 여든 네 번째 3, 1절을 맞아 나라를 위해 희생하고 헌신하신</span>
<span id="cb24-386"><a href="#cb24-386" aria-hidden="true" tabindex="-1"></a>애국선열들께 한없는 감사와 경의를 표합니다. 독립유공자와 유가족</span>
<span id="cb24-387"><a href="#cb24-387" aria-hidden="true" tabindex="-1"></a>여러분에게도 존경과 감사의 말씀을 드립니다.</span>
<span id="cb24-388"><a href="#cb24-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-389"><a href="#cb24-389" aria-hidden="true" tabindex="-1"></a>기미년 오늘, 우리는 일제의 총칼에 맞서 맨주먹으로 분연히 일어섰습니다.</span>
<span id="cb24-390"><a href="#cb24-390" aria-hidden="true" tabindex="-1"></a>대한독립 만세 소리가 전국 방방곡곡을 뒤덮었고, 우리는 자주독립 의지를</span>
<span id="cb24-391"><a href="#cb24-391" aria-hidden="true" tabindex="-1"></a>세계만방에 알렸습니다. 3, 1운동을 계기로 국내외의 독립투쟁은 더욱 힘차게</span>
<span id="cb24-392"><a href="#cb24-392" aria-hidden="true" tabindex="-1"></a>전개되었습니다. 상해에 대한민국 임시정부가 세워졌고, 우리는 마침내</span>
<span id="cb24-393"><a href="#cb24-393" aria-hidden="true" tabindex="-1"></a>빼앗긴 국권을 되찾았습니다.</span>
<span id="cb24-394"><a href="#cb24-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-395"><a href="#cb24-395" aria-hidden="true" tabindex="-1"></a>3, 1정신은 끊임없는 도전을 슬기롭게 극복해 온 우리 민족의 자랑입니다.</span>
<span id="cb24-396"><a href="#cb24-396" aria-hidden="true" tabindex="-1"></a>우리는 이러한 빛나는 정신을 계승하여 전쟁의 폐허를 딛고 세계 12위의</span>
<span id="cb24-397"><a href="#cb24-397" aria-hidden="true" tabindex="-1"></a>경제강국으로 발돋움했습니다. 4, 19 혁명과 광주민주화운동, 6월 민주항쟁을</span>
<span id="cb24-398"><a href="#cb24-398" aria-hidden="true" tabindex="-1"></a>거쳐 민주주의와 인권을 쟁취해 냈습니다. 오늘의 참여정부는 바로 그 위대한</span>
<span id="cb24-399"><a href="#cb24-399" aria-hidden="true" tabindex="-1"></a>역사의 연장선 위에 서 있습니다.</span>
<span id="cb24-400"><a href="#cb24-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-401"><a href="#cb24-401" aria-hidden="true" tabindex="-1"></a>참여정부의 출범으로 이제 아픔의 근, 현대사는 막을 내리게 되었습니다.</span>
<span id="cb24-402"><a href="#cb24-402" aria-hidden="true" tabindex="-1"></a>우리의 지난날은 선열들의 고귀한 희생에도 불구하고 좌절과 굴절을 겪어야</span>
<span id="cb24-403"><a href="#cb24-403" aria-hidden="true" tabindex="-1"></a>했습니다. 정의는 패배했고 기회주의가 득세했습니다.</span>
<span id="cb24-404"><a href="#cb24-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-405"><a href="#cb24-405" aria-hidden="true" tabindex="-1"></a>그러나 이제 비로소 역사적 전환점이 마련되었습니다. 국민이 진정 주인으로</span>
<span id="cb24-406"><a href="#cb24-406" aria-hidden="true" tabindex="-1"></a>대접받는 시대가 열린 것입니다.</span>
<span id="cb24-407"><a href="#cb24-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-408"><a href="#cb24-408" aria-hidden="true" tabindex="-1"></a>참여정부에서는 권력에 아부하는 사람들이 더 이상 설 땅이 없을 것입니다.</span>
<span id="cb24-409"><a href="#cb24-409" aria-hidden="true" tabindex="-1"></a>오로지 성실하게 일하고 정정당당하게 승부하는 사람들이 성공하는 시대가</span>
<span id="cb24-410"><a href="#cb24-410" aria-hidden="true" tabindex="-1"></a>열릴 것입니다. 그것이 바로 선열들의 희생에 보답하는 길이자 저와</span>
<span id="cb24-411"><a href="#cb24-411" aria-hidden="true" tabindex="-1"></a>참여정부에게 주어진 역사적 소명입니다.</span>
<span id="cb24-412"><a href="#cb24-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-413"><a href="#cb24-413" aria-hidden="true" tabindex="-1"></a>국민 여러분,</span>
<span id="cb24-414"><a href="#cb24-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-415"><a href="#cb24-415" aria-hidden="true" tabindex="-1"></a>지금 우리는 세계사의 새로운 흐름과 마주하고 있습니다. 동북아 시대의</span>
<span id="cb24-416"><a href="#cb24-416" aria-hidden="true" tabindex="-1"></a>도래가 바로 그것입니다. 동북아시아는 근대 이후 세계의 변방으로만 머물러</span>
<span id="cb24-417"><a href="#cb24-417" aria-hidden="true" tabindex="-1"></a>왔습니다. 그러나 이제 유럽연합, 북미지역과 함께 세계경제의 3대 축으로</span>
<span id="cb24-418"><a href="#cb24-418" aria-hidden="true" tabindex="-1"></a>부상하고 있습니다. 앞으로 20년 후에는 세계경제의 3분의 1을 차지하게</span>
<span id="cb24-419"><a href="#cb24-419" aria-hidden="true" tabindex="-1"></a>된다는 전망도 있습니다. 민족웅비의 크나큰 기회가 우리에게 다가오고 있는</span>
<span id="cb24-420"><a href="#cb24-420" aria-hidden="true" tabindex="-1"></a>것입니다.</span>
<span id="cb24-421"><a href="#cb24-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-422"><a href="#cb24-422" aria-hidden="true" tabindex="-1"></a>우리는 동북아시대의 중심국가로 도약할 수 있는 충분한 조건을 갖추고</span>
<span id="cb24-423"><a href="#cb24-423" aria-hidden="true" tabindex="-1"></a>있습니다. 우선, 지리적으로 중심에 자리잡고 있습니다. 서울에서 3시간의</span>
<span id="cb24-424"><a href="#cb24-424" aria-hidden="true" tabindex="-1"></a>비행거리 안에 인구 100만 이상의 도시가 마흔 세 개나 됩니다. 중국과</span>
<span id="cb24-425"><a href="#cb24-425" aria-hidden="true" tabindex="-1"></a>러시아의 인력과 자원, 그리고 일본의 기술을 접목할 수 있는 유리한</span>
<span id="cb24-426"><a href="#cb24-426" aria-hidden="true" tabindex="-1"></a>위치입니다. 대륙과 해양을 잇는 지정학적 이점도 가지고 있습니다. 하늘과</span>
<span id="cb24-427"><a href="#cb24-427" aria-hidden="true" tabindex="-1"></a>바다와 땅에 걸친 물류와, 세계 일류의 정보화 기반과 역량을 두루 갖추고</span>
<span id="cb24-428"><a href="#cb24-428" aria-hidden="true" tabindex="-1"></a>있습니다.</span>
<span id="cb24-429"><a href="#cb24-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-430"><a href="#cb24-430" aria-hidden="true" tabindex="-1"></a>한반도는 더 이상 세계의 변방이 아닙니다. 남북 철도가 연결되고 철의</span>
<span id="cb24-431"><a href="#cb24-431" aria-hidden="true" tabindex="-1"></a>실크로드가 열리면 광활한 대륙을 향해 나아갈 수 있습니다. 그 곳에는</span>
<span id="cb24-432"><a href="#cb24-432" aria-hidden="true" tabindex="-1"></a>중국대륙이라는 새로운 기회가 기다리고 있습니다. 시베리아와 중앙아시아의</span>
<span id="cb24-433"><a href="#cb24-433" aria-hidden="true" tabindex="-1"></a>무한한 자원도 있습니다.</span>
<span id="cb24-434"><a href="#cb24-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-435"><a href="#cb24-435" aria-hidden="true" tabindex="-1"></a>한반도가 대륙과 해양을 잇는 물류와 금융과 생산 거점으로 거듭나게 됩니다.</span>
<span id="cb24-436"><a href="#cb24-436" aria-hidden="true" tabindex="-1"></a>이것이 바로 우리 앞에 있는 미래입니다. 우리에게는 이를 현실로 만들어야</span>
<span id="cb24-437"><a href="#cb24-437" aria-hidden="true" tabindex="-1"></a>하는 책무가 주어져 있습니다.</span>
<span id="cb24-438"><a href="#cb24-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-439"><a href="#cb24-439" aria-hidden="true" tabindex="-1"></a>존경하는 국민 여러분,</span>
<span id="cb24-440"><a href="#cb24-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-441"><a href="#cb24-441" aria-hidden="true" tabindex="-1"></a>그러나 동북아 중심국가로 나아가기 위해서는 반드시 해야 할 일이 있습니다.</span>
<span id="cb24-442"><a href="#cb24-442" aria-hidden="true" tabindex="-1"></a>한반도에 평화를 정착시키는 일입니다. 남북이 대립하며 한반도에 긴장이</span>
<span id="cb24-443"><a href="#cb24-443" aria-hidden="true" tabindex="-1"></a>고조되는 한, 동북아 중심국가의 꿈은 실현될 수 없습니다. 동북아의 평화와</span>
<span id="cb24-444"><a href="#cb24-444" aria-hidden="true" tabindex="-1"></a>번영도 기대하기 어렵습니다.</span>
<span id="cb24-445"><a href="#cb24-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-446"><a href="#cb24-446" aria-hidden="true" tabindex="-1"></a>그동안 우리는 한반도에 평화를 정착시키기 위해 많은 노력을 기울여</span>
<span id="cb24-447"><a href="#cb24-447" aria-hidden="true" tabindex="-1"></a>왔습니다. 남북간에 대화와 교류가 빈번해졌고 이산가족이 만나고 있습니다.</span>
<span id="cb24-448"><a href="#cb24-448" aria-hidden="true" tabindex="-1"></a>최근에는 육로도 열렸습니다.</span>
<span id="cb24-449"><a href="#cb24-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-450"><a href="#cb24-450" aria-hidden="true" tabindex="-1"></a>그러나 아직 풀어야 할 숙제가 많습니다. 특히 북핵 문제는 시급히 해결해야</span>
<span id="cb24-451"><a href="#cb24-451" aria-hidden="true" tabindex="-1"></a>할 과제입니다.</span>
<span id="cb24-452"><a href="#cb24-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-453"><a href="#cb24-453" aria-hidden="true" tabindex="-1"></a>저는 북한의 핵 개발에 단호히 반대합니다. 그러나 이 문제는 반드시</span>
<span id="cb24-454"><a href="#cb24-454" aria-hidden="true" tabindex="-1"></a>평화적으로 해결되어야 합니다. 어떠한 이유로든 한반도의 평화가</span>
<span id="cb24-455"><a href="#cb24-455" aria-hidden="true" tabindex="-1"></a>깨어진다면, 우리는 그 엄청난 재앙을 감당할 수 없습니다. 한반도의 평화와</span>
<span id="cb24-456"><a href="#cb24-456" aria-hidden="true" tabindex="-1"></a>국민의 안전을 지키는 것은 대통령의 가장 큰 책무입니다.</span>
<span id="cb24-457"><a href="#cb24-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-458"><a href="#cb24-458" aria-hidden="true" tabindex="-1"></a>앞으로 남북관계는 국민 여러분께 소상히 보고 드리고, 국민적 합의를</span>
<span id="cb24-459"><a href="#cb24-459" aria-hidden="true" tabindex="-1"></a>바탕으로 추진해 나가겠습니다. 야당의 협력도 적극적으로 구해나갈</span>
<span id="cb24-460"><a href="#cb24-460" aria-hidden="true" tabindex="-1"></a>것입니다. 미국과 일본, 중국, 러시아 등 주변국과, EU를 비롯한</span>
<span id="cb24-461"><a href="#cb24-461" aria-hidden="true" tabindex="-1"></a>국제사회와도 능동적으로 협력해나갈 것입니다.</span>
<span id="cb24-462"><a href="#cb24-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-463"><a href="#cb24-463" aria-hidden="true" tabindex="-1"></a>국민 여러분,</span>
<span id="cb24-464"><a href="#cb24-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-465"><a href="#cb24-465" aria-hidden="true" tabindex="-1"></a>한반도에 평화를 정착시키는 일 못지 않게 중요한 것은 국민의 힘을 하나로</span>
<span id="cb24-466"><a href="#cb24-466" aria-hidden="true" tabindex="-1"></a>모으는 일입니다. 84년 전 오늘, 우리의 선열들은 한마음 한뜻으로</span>
<span id="cb24-467"><a href="#cb24-467" aria-hidden="true" tabindex="-1"></a>독립운동에 나섰습니다. 빈부와 귀천, 남녀와 노소, 지역과 종교의 차이는</span>
<span id="cb24-468"><a href="#cb24-468" aria-hidden="true" tabindex="-1"></a>없었습니다. 나라의 독립과 민족의 자존심을 되찾는 데 하나가 되었습니다.</span>
<span id="cb24-469"><a href="#cb24-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-470"><a href="#cb24-470" aria-hidden="true" tabindex="-1"></a>오늘을 사는 우리도 지역과 계층과 세대를 넘어 하나가 되어야 합니다.</span>
<span id="cb24-471"><a href="#cb24-471" aria-hidden="true" tabindex="-1"></a>내부에 분열과 반목이 있으면 세계경쟁에서 뒤쳐질 수밖에 없습니다.</span>
<span id="cb24-472"><a href="#cb24-472" aria-hidden="true" tabindex="-1"></a>국권까지 상실했던 100년 전의 실패가 되풀이될 수도 있습니다. 지금이야말로</span>
<span id="cb24-473"><a href="#cb24-473" aria-hidden="true" tabindex="-1"></a>3, 1정신을 되돌아보며 역사의 교훈을 되새겨야 할 때입니다.</span>
<span id="cb24-474"><a href="#cb24-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-475"><a href="#cb24-475" aria-hidden="true" tabindex="-1"></a>마음속에 지역갈등의 응어리가 있다면 가슴을 열고 풀어야 합니다. 어른은</span>
<span id="cb24-476"><a href="#cb24-476" aria-hidden="true" tabindex="-1"></a>젊은이의 목소리에 귀기울이고 젊은이는 어른의 경험을 구해야 합니다. 차별</span>
<span id="cb24-477"><a href="#cb24-477" aria-hidden="true" tabindex="-1"></a>받고 소외되어 온 사람들에게 더 많은 관심과 노력을 기울여야 합니다. 국민</span>
<span id="cb24-478"><a href="#cb24-478" aria-hidden="true" tabindex="-1"></a>모두가 참된 주인으로서 국정에 참여하고, 온 국민의 힘을 하나로 모으는</span>
<span id="cb24-479"><a href="#cb24-479" aria-hidden="true" tabindex="-1"></a>국민참여시대를 힘차게 열어가야겠습니다.</span>
<span id="cb24-480"><a href="#cb24-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-481"><a href="#cb24-481" aria-hidden="true" tabindex="-1"></a>개혁 또한 멈출 수 없는 우리 시대의 과제입니다. 무엇보다 정치와 행정이</span>
<span id="cb24-482"><a href="#cb24-482" aria-hidden="true" tabindex="-1"></a>바뀌어야 합니다. 이른바 몇몇 &#39;권력기관&#39;은 그동안 정권을 위해 봉사해 왔던</span>
<span id="cb24-483"><a href="#cb24-483" aria-hidden="true" tabindex="-1"></a>것이 사실입니다. 그래서 내부의 질서가 무너지고 국민의 신뢰를 잃었습니다.</span>
<span id="cb24-484"><a href="#cb24-484" aria-hidden="true" tabindex="-1"></a>이제 이들 &#39;권력기관&#39;은 국민을 위한 기관으로 거듭나야 합니다. 참여정부는</span>
<span id="cb24-485"><a href="#cb24-485" aria-hidden="true" tabindex="-1"></a>더 이상 &#39;권력기관&#39;에 의존하지 않을 것입니다. 언제나 정정당당한 정부로서</span>
<span id="cb24-486"><a href="#cb24-486" aria-hidden="true" tabindex="-1"></a>국민 앞에 설 것입니다.</span>
<span id="cb24-487"><a href="#cb24-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-488"><a href="#cb24-488" aria-hidden="true" tabindex="-1"></a>참여정부는 공정하고 투명한 시장질서, 노사화합, 기술혁신, 지역 균형발전</span>
<span id="cb24-489"><a href="#cb24-489" aria-hidden="true" tabindex="-1"></a>속에 정직하고 성실하게 사는 사람들이 성공하는 나라를 만들어갈 것입니다.</span>
<span id="cb24-490"><a href="#cb24-490" aria-hidden="true" tabindex="-1"></a>이를 위해 원칙과 신뢰, 공정과 투명, 대화와 타협, 분권과 자율의 문화를</span>
<span id="cb24-491"><a href="#cb24-491" aria-hidden="true" tabindex="-1"></a>사회 곳곳에 뿌리내릴 것입니다.</span>
<span id="cb24-492"><a href="#cb24-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-493"><a href="#cb24-493" aria-hidden="true" tabindex="-1"></a>존경하는 국민 여러분!</span>
<span id="cb24-494"><a href="#cb24-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-495"><a href="#cb24-495" aria-hidden="true" tabindex="-1"></a>우리에게는 선열들이 보여준 자주독립의 기상과 대동단결의 지혜가 있습니다.</span>
<span id="cb24-496"><a href="#cb24-496" aria-hidden="true" tabindex="-1"></a>오늘 3, 1절을 맞아 일제의 총칼에 항거하며 이루고자 했던 선열들의 뜻을</span>
<span id="cb24-497"><a href="#cb24-497" aria-hidden="true" tabindex="-1"></a>다시 한번 가슴에 새깁시다. 국민통합과 개혁으로 평화와 번영의</span>
<span id="cb24-498"><a href="#cb24-498" aria-hidden="true" tabindex="-1"></a>동북아시대를 열어갑시다. 자랑스런 대한민국을 우리 후손들에게 물려줍시다.</span>
<span id="cb24-499"><a href="#cb24-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-500"><a href="#cb24-500" aria-hidden="true" tabindex="-1"></a><span class="fu">### Whisper 텍스트</span></span>
<span id="cb24-501"><a href="#cb24-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-502"><a href="#cb24-502" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-503"><a href="#cb24-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-504"><a href="#cb24-504" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb24-505"><a href="#cb24-505" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb24-506"><a href="#cb24-506" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb24-507"><a href="#cb24-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-508"><a href="#cb24-508" aria-hidden="true" tabindex="-1"></a>stt_txt <span class="ot">&lt;-</span> <span class="fu">read_lines</span>(<span class="st">&quot;data/stt_audio.txt&quot;</span>)</span>
<span id="cb24-509"><a href="#cb24-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-510"><a href="#cb24-510" aria-hidden="true" tabindex="-1"></a>stt_txt</span>
<span id="cb24-511"><a href="#cb24-511" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-512"><a href="#cb24-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-513"><a href="#cb24-513" aria-hidden="true" tabindex="-1"></a><span class="fu">### 챗 GPT 후가공</span></span>
<span id="cb24-514"><a href="#cb24-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-515"><a href="#cb24-515" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb24-516"><a href="#cb24-516" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 프롬프트: 다음 텍스트에 구두점을 넣고 문단별로 나눠 가독성을 높혀주세요. &lt;br&gt;&lt;br&gt; &quot;존경하는 국민여러분 오늘 84번째 ..&lt;중략&gt;.. 물려줍시다 감사합니다&quot;</span></span>
<span id="cb24-517"><a href="#cb24-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-518"><a href="#cb24-518" aria-hidden="true" tabindex="-1"></a>&quot;존경하는 국민여러분, 오늘 84번째 3.1절을 맞아, 나라를 위해 희생하고</span>
<span id="cb24-519"><a href="#cb24-519" aria-hidden="true" tabindex="-1"></a>헌신하신 애국선열들께 한없는 감사와 경의를 표합니다. 독립유공자와 유가족</span>
<span id="cb24-520"><a href="#cb24-520" aria-hidden="true" tabindex="-1"></a>여러분에게도 존경과 감사의 말씀을 드립니다.</span>
<span id="cb24-521"><a href="#cb24-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-522"><a href="#cb24-522" aria-hidden="true" tabindex="-1"></a>3.1 1922년 오늘, 우리는 일제의 총칼에 맞서 맨주먹으로 분연히</span>
<span id="cb24-523"><a href="#cb24-523" aria-hidden="true" tabindex="-1"></a>일어섰습니다. 대한독립만세 소리가 전국 방방곡곡을 뒤덮었고, 우리는</span>
<span id="cb24-524"><a href="#cb24-524" aria-hidden="true" tabindex="-1"></a>자주독립의지를 세계 만방에 알렸습니다. 3.1운동을 계기로 국내외의</span>
<span id="cb24-525"><a href="#cb24-525" aria-hidden="true" tabindex="-1"></a>독립투쟁은 더욱 힘차게 전개되었습니다. 상해 대한민국 임시정부가</span>
<span id="cb24-526"><a href="#cb24-526" aria-hidden="true" tabindex="-1"></a>세워졌고, 우리는 마침내 빼앗긴 국권을 되찾았습니다.</span>
<span id="cb24-527"><a href="#cb24-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-528"><a href="#cb24-528" aria-hidden="true" tabindex="-1"></a>3.1정신은 끊임없는 도전을 슬기롭게 극복해온 우리 민족의 자랑입니다.</span>
<span id="cb24-529"><a href="#cb24-529" aria-hidden="true" tabindex="-1"></a>우리는 이러한 빛나는 정신을 계승하여 전쟁의 폐허를 딛고 세계 12위의</span>
<span id="cb24-530"><a href="#cb24-530" aria-hidden="true" tabindex="-1"></a>경제강국으로 발돋움했습니다. 4.19혁명과 광주민주화운동, 6월 민주항쟁을</span>
<span id="cb24-531"><a href="#cb24-531" aria-hidden="true" tabindex="-1"></a>거쳐서 민주주의와 인권을 쟁취해냈습니다. 오늘의 참여정부는 바로 그</span>
<span id="cb24-532"><a href="#cb24-532" aria-hidden="true" tabindex="-1"></a>위대한 역사의 연장선 위에 서 있습니다.</span>
<span id="cb24-533"><a href="#cb24-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-534"><a href="#cb24-534" aria-hidden="true" tabindex="-1"></a>참여정부의 출범으로, 이제 아픔의 근현대사는 막을 내리게 되었습니다.</span>
<span id="cb24-535"><a href="#cb24-535" aria-hidden="true" tabindex="-1"></a>우리의 지난 날은 선열들의 고귀한 희생에도 불구하고 좌절과 굴절을 겪어야</span>
<span id="cb24-536"><a href="#cb24-536" aria-hidden="true" tabindex="-1"></a>했습니다. 정의는 패배했고 기회주의가 덕세했습니다. 그러나 이제 비로소</span>
<span id="cb24-537"><a href="#cb24-537" aria-hidden="true" tabindex="-1"></a>역사적 전환점이 마련됐습니다. 국민이 진정 주인으로 대접받는 시대가 열릴</span>
<span id="cb24-538"><a href="#cb24-538" aria-hidden="true" tabindex="-1"></a>것입니다. 참여정부에서는 권력의 아부하는 사람들이 더 이상 설 땅이 없을</span>
<span id="cb24-539"><a href="#cb24-539" aria-hidden="true" tabindex="-1"></a>것입니다. 오로지 성실하게 일하고 정정당당하게 선고하는 사람들이 성공하는</span>
<span id="cb24-540"><a href="#cb24-540" aria-hidden="true" tabindex="-1"></a>시대가 열릴 것입니다. 그것이 바로 선열들의 희생에 보답하는 길이자, 저와</span>
<span id="cb24-541"><a href="#cb24-541" aria-hidden="true" tabindex="-1"></a>참여정부에게 주어진 역사의 소명이라고 생각합니다.</span>
<span id="cb24-542"><a href="#cb24-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-543"><a href="#cb24-543" aria-hidden="true" tabindex="-1"></a>존경하는 국민 여러분, 지금 우리는 세계사의 새로운 흐름과 마주하고</span>
<span id="cb24-544"><a href="#cb24-544" aria-hidden="true" tabindex="-1"></a>있습니다. 동북아 시대의 도래가 바로 그것입니다. 동북아시아는 근대 이후</span>
<span id="cb24-545"><a href="#cb24-545" aria-hidden="true" tabindex="-1"></a>세계의 변방으로만 머물러 왔습니다. 그러나 이제 유럽연합, 북미 지역과</span>
<span id="cb24-546"><a href="#cb24-546" aria-hidden="true" tabindex="-1"></a>함께 세계 경제의 3대 축으로 부상하고 있습니다. 앞으로 20년 후에는 세계</span>
<span id="cb24-547"><a href="#cb24-547" aria-hidden="true" tabindex="-1"></a>경제의 3분의 1을 차지하게 된다는 전망도 있습니다.</span>
<span id="cb24-548"><a href="#cb24-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-549"><a href="#cb24-549" aria-hidden="true" tabindex="-1"></a>민족웅비의 크나큰 기회가 우리에게 다가오고 있는 것입니다. 우리는 동북아</span>
<span id="cb24-550"><a href="#cb24-550" aria-hidden="true" tabindex="-1"></a>시대의 중심국가로 돌아갈 수 있는 충분한 조건들의 꿈을 생각해 보겠습니다.</span>
<span id="cb24-551"><a href="#cb24-551" aria-hidden="true" tabindex="-1"></a>이 땅에 건설한 자유와 평화, 독립과 민주주의의 신성한 꿈입니다. 우리는 그</span>
<span id="cb24-552"><a href="#cb24-552" aria-hidden="true" tabindex="-1"></a>꿈을 계승하고 이어가야 합니다.</span>
<span id="cb24-553"><a href="#cb24-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-554"><a href="#cb24-554" aria-hidden="true" tabindex="-1"></a>참여정부는 모든 일을 국민과 함께 할 것입니다. 어려운 일에도 함께</span>
<span id="cb24-555"><a href="#cb24-555" aria-hidden="true" tabindex="-1"></a>참여하고, 희망을 나누는 일에도 함께 참여하겠습니다. 정의를 위해 함께</span>
<span id="cb24-556"><a href="#cb24-556" aria-hidden="true" tabindex="-1"></a>서고, 기회를 위해 함께 투쟁하겠습니다. 바로 그것이 참여정부의 이념이고</span>
<span id="cb24-557"><a href="#cb24-557" aria-hidden="true" tabindex="-1"></a>실천의 방향입니다.</span>
<span id="cb24-558"><a href="#cb24-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-559"><a href="#cb24-559" aria-hidden="true" tabindex="-1"></a>모든 국민이 참여하는 민주주의, 그것이 바로 참여정부의 민주주의입니다.</span>
<span id="cb24-560"><a href="#cb24-560" aria-hidden="true" tabindex="-1"></a>대통령으로서 제게 주어진 역사의 소명을 다할 것입니다. 국민이 주인이 되는</span>
<span id="cb24-561"><a href="#cb24-561" aria-hidden="true" tabindex="-1"></a>참여정부, 그것을 만들어 가겠습니다. 국민 여러분의 도움과 협력이 절실히</span>
<span id="cb24-562"><a href="#cb24-562" aria-hidden="true" tabindex="-1"></a>필요합니다.</span>
<span id="cb24-563"><a href="#cb24-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-564"><a href="#cb24-564" aria-hidden="true" tabindex="-1"></a>국민 여러분, 오늘 3.1절을 맞아 이 자리에 함께 해주신 데 대해 깊은 감사의</span>
<span id="cb24-565"><a href="#cb24-565" aria-hidden="true" tabindex="-1"></a>말씀을 드립니다. 우리 모두가 동행하며, 선열들의 꿈을 이루어 나가는 큰 한</span>
<span id="cb24-566"><a href="#cb24-566" aria-hidden="true" tabindex="-1"></a>걸음을 내딛을 수 있기를 기원합니다. 감사합니다.</span>
<span id="cb24-567"><a href="#cb24-567" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb24-568"><a href="#cb24-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-569"><a href="#cb24-569" aria-hidden="true" tabindex="-1"></a><span class="fu">### Whisper 텍스트</span></span>
<span id="cb24-570"><a href="#cb24-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-571"><a href="#cb24-571" aria-hidden="true" tabindex="-1"></a><span class="in">`gpt-4`</span>, 특히 <span class="in">`gpt-4-0314`</span> 모형을 사용하여 API로 앞서 Whisper로 STT하여</span>
<span id="cb24-572"><a href="#cb24-572" aria-hidden="true" tabindex="-1"></a>받아쓰기한 사항을 윤문하여 연설문을 보기 좋게 다시 작성한다.</span>
<span id="cb24-573"><a href="#cb24-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-574"><a href="#cb24-574" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-575"><a href="#cb24-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-576"><a href="#cb24-576" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-577"><a href="#cb24-577" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb24-578"><a href="#cb24-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-579"><a href="#cb24-579" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb24-580"><a href="#cb24-580" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb24-581"><a href="#cb24-581" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb24-582"><a href="#cb24-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-583"><a href="#cb24-583" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb24-584"><a href="#cb24-584" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb24-585"><a href="#cb24-585" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb24-586"><a href="#cb24-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-587"><a href="#cb24-587" aria-hidden="true" tabindex="-1"></a><span class="co"># 텍스트 불러오기 --------------------------</span></span>
<span id="cb24-588"><a href="#cb24-588" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;data/stt_audio.txt&quot;</span>, <span class="st">&quot;r&quot;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb24-589"><a href="#cb24-589" aria-hidden="true" tabindex="-1"></a>    content <span class="op">=</span> <span class="bu">file</span>.read()</span>
<span id="cb24-590"><a href="#cb24-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-591"><a href="#cb24-591" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(content)</span>
<span id="cb24-592"><a href="#cb24-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-593"><a href="#cb24-593" aria-hidden="true" tabindex="-1"></a><span class="co"># 텍스트 윤문 --------------------------</span></span>
<span id="cb24-594"><a href="#cb24-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-595"><a href="#cb24-595" aria-hidden="true" tabindex="-1"></a>prompt <span class="op">=</span> <span class="ss">f&#39;다음 텍스트에 구두점을 넣고 문단별로 나눠 가독성을 높혀주세요. </span><span class="ch">\n\n</span><span class="sc">{</span>content<span class="sc">}</span><span class="ss">&#39;</span></span>
<span id="cb24-596"><a href="#cb24-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-597"><a href="#cb24-597" aria-hidden="true" tabindex="-1"></a>speech_response <span class="op">=</span> openai.ChatCompletion.create(</span>
<span id="cb24-598"><a href="#cb24-598" aria-hidden="true" tabindex="-1"></a>  model       <span class="op">=</span> <span class="st">&quot;gpt-4-0314&quot;</span>,</span>
<span id="cb24-599"><a href="#cb24-599" aria-hidden="true" tabindex="-1"></a>  messages    <span class="op">=</span> [</span>
<span id="cb24-600"><a href="#cb24-600" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;system&quot;</span>, <span class="st">&quot;content&quot;</span>: <span class="st">&quot;You are a Korean language expert.&quot;</span>},</span>
<span id="cb24-601"><a href="#cb24-601" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;user&quot;</span>, <span class="st">&quot;content&quot;</span>: prompt}</span>
<span id="cb24-602"><a href="#cb24-602" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb24-603"><a href="#cb24-603" aria-hidden="true" tabindex="-1"></a>  max_tokens   <span class="op">=</span> <span class="dv">5000</span>,</span>
<span id="cb24-604"><a href="#cb24-604" aria-hidden="true" tabindex="-1"></a>  temperature  <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb24-605"><a href="#cb24-605" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-606"><a href="#cb24-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-607"><a href="#cb24-607" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(speech_response[<span class="st">&quot;choices&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;message&#39;</span>][<span class="st">&#39;content&#39;</span>])</span>
<span id="cb24-608"><a href="#cb24-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-609"><a href="#cb24-609" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;data/stt_audio_gpt4.txt&quot;</span>, <span class="st">&quot;w&quot;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb24-610"><a href="#cb24-610" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.write(speech_response[<span class="st">&quot;choices&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;message&#39;</span>][<span class="st">&#39;content&#39;</span>])</span>
<span id="cb24-611"><a href="#cb24-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-612"><a href="#cb24-612" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-613"><a href="#cb24-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-614"><a href="#cb24-614" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-615"><a href="#cb24-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-616"><a href="#cb24-616" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb24-617"><a href="#cb24-617" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb24-618"><a href="#cb24-618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-619"><a href="#cb24-619" aria-hidden="true" tabindex="-1"></a>gpt4_txt <span class="ot">&lt;-</span> <span class="fu">read_lines</span>(<span class="st">&quot;data/stt_audio_gpt4.txt&quot;</span>)</span>
<span id="cb24-620"><a href="#cb24-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-621"><a href="#cb24-621" aria-hidden="true" tabindex="-1"></a>glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">&quot;{gpt4_txt}&quot;</span>)</span>
<span id="cb24-622"><a href="#cb24-622" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-623"><a href="#cb24-623" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb24-624"><a href="#cb24-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-625"><a href="#cb24-625" aria-hidden="true" tabindex="-1"></a><span class="fu"># 번역</span></span>
<span id="cb24-626"><a href="#cb24-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-627"><a href="#cb24-627" aria-hidden="true" tabindex="-1"></a>Whisper API를 사용하면 다국어를 번역하는 것도 가능하다. 먼저, 연설문</span>
<span id="cb24-628"><a href="#cb24-628" aria-hidden="true" tabindex="-1"></a>앞쪽부분을 영어로 실시간 번역해보자. Whisper는 영어가 아닌 다양한</span>
<span id="cb24-629"><a href="#cb24-629" aria-hidden="true" tabindex="-1"></a>언어음성을 영어로 번역하는 기능도 갖추고 있다.</span>
<span id="cb24-630"><a href="#cb24-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-631"><a href="#cb24-631" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb24-632"><a href="#cb24-632" aria-hidden="true" tabindex="-1"></a><span class="fu">### 연설문 초반부</span></span>
<span id="cb24-633"><a href="#cb24-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-634"><a href="#cb24-634" aria-hidden="true" tabindex="-1"></a>존경하는 국민 여러분,</span>
<span id="cb24-635"><a href="#cb24-635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-636"><a href="#cb24-636" aria-hidden="true" tabindex="-1"></a>오늘 여든 네 번째 3, 1절을 맞아 나라를 위해 희생하고 헌신하신</span>
<span id="cb24-637"><a href="#cb24-637" aria-hidden="true" tabindex="-1"></a>애국선열들께 한없는 감사와 경의를 표합니다. 독립유공자와 유가족</span>
<span id="cb24-638"><a href="#cb24-638" aria-hidden="true" tabindex="-1"></a>여러분에게도 존경과 감사의 말씀을 드립니다.</span>
<span id="cb24-639"><a href="#cb24-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-640"><a href="#cb24-640" aria-hidden="true" tabindex="-1"></a><span class="fu">### 연설 원음</span></span>
<span id="cb24-641"><a href="#cb24-641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-642"><a href="#cb24-642" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-643"><a href="#cb24-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-644"><a href="#cb24-644" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb24-645"><a href="#cb24-645" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb24-646"><a href="#cb24-646" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(av)</span>
<span id="cb24-647"><a href="#cb24-647" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(embedr)</span>
<span id="cb24-648"><a href="#cb24-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-649"><a href="#cb24-649" aria-hidden="true" tabindex="-1"></a>embedr<span class="sc">::</span><span class="fu">embed_audio</span>(<span class="st">&quot;data/한국어_영어번역.mp3&quot;</span>)</span>
<span id="cb24-650"><a href="#cb24-650" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-651"><a href="#cb24-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-652"><a href="#cb24-652" aria-hidden="true" tabindex="-1"></a><span class="fu">### 한국어 음성 → 영문</span></span>
<span id="cb24-653"><a href="#cb24-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-654"><a href="#cb24-654" aria-hidden="true" tabindex="-1"></a>특히, 프롬프트에 맥락 정보를 넣어 전달하면 더욱 정확한 번역 결과를</span>
<span id="cb24-655"><a href="#cb24-655" aria-hidden="true" tabindex="-1"></a>기대할 수 있다.</span>
<span id="cb24-656"><a href="#cb24-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-657"><a href="#cb24-657" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-658"><a href="#cb24-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-659"><a href="#cb24-659" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-660"><a href="#cb24-660" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb24-661"><a href="#cb24-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-662"><a href="#cb24-662" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb24-663"><a href="#cb24-663" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb24-664"><a href="#cb24-664" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb24-665"><a href="#cb24-665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-666"><a href="#cb24-666" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb24-667"><a href="#cb24-667" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb24-668"><a href="#cb24-668" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb24-669"><a href="#cb24-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-670"><a href="#cb24-670" aria-hidden="true" tabindex="-1"></a><span class="co"># 번역 ----------------------</span></span>
<span id="cb24-671"><a href="#cb24-671" aria-hidden="true" tabindex="-1"></a>start_audio_file <span class="op">=</span> <span class="bu">open</span>(<span class="st">&quot;data/한국어_영어번역.mp3&quot;</span>, <span class="st">&quot;rb&quot;</span>)</span>
<span id="cb24-672"><a href="#cb24-672" aria-hidden="true" tabindex="-1"></a>start_prompt <span class="op">=</span> <span class="st">&quot;한국 대통령이 3.1절 기념식 연설문 중 앞부분입니다.&quot;</span></span>
<span id="cb24-673"><a href="#cb24-673" aria-hidden="true" tabindex="-1"></a>start_resp <span class="op">=</span> openai.Audio.translate(<span class="st">&quot;whisper-1&quot;</span>,</span>
<span id="cb24-674"><a href="#cb24-674" aria-hidden="true" tabindex="-1"></a>                                    start_audio_file,</span>
<span id="cb24-675"><a href="#cb24-675" aria-hidden="true" tabindex="-1"></a>                                    prompt <span class="op">=</span> start_prompt)</span>
<span id="cb24-676"><a href="#cb24-676" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(start_resp[<span class="st">&quot;text&quot;</span>])</span>
<span id="cb24-677"><a href="#cb24-677" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-678"><a href="#cb24-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-679"><a href="#cb24-679" aria-hidden="true" tabindex="-1"></a><span class="in">```         </span></span>
<span id="cb24-680"><a href="#cb24-680" aria-hidden="true" tabindex="-1"></a><span class="in">Honorable citizens, Today, on the 84th anniversary of 3.1, I would like to express my deepest gratitude and respect to the patriotic soldiers who sacrificed for the country. I would also like to express my respect and gratitude to the independence activists and their families.</span></span>
<span id="cb24-681"><a href="#cb24-681" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-682"><a href="#cb24-682" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb24-683"><a href="#cb24-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-684"><a href="#cb24-684" aria-hidden="true" tabindex="-1"></a><span class="fu"># 뉴스기사 제작</span></span>
<span id="cb24-685"><a href="#cb24-685" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-686"><a href="#cb24-686" aria-hidden="true" tabindex="-1"></a>오디오나 사진, 동영상 등 다양한 형태의 데이터를 텍스트 문자로 변환시키면</span>
<span id="cb24-687"><a href="#cb24-687" aria-hidden="true" tabindex="-1"></a>다음 단계로 다양한 후속 작업을 수행할 수 있다. 앞서 노무현 대통령의</span>
<span id="cb24-688"><a href="#cb24-688" aria-hidden="true" tabindex="-1"></a>3.1절 연설문을 거의 실시간으로 녹취를 떠서 이를 텍스트로 추출한 후 속보</span>
<span id="cb24-689"><a href="#cb24-689" aria-hidden="true" tabindex="-1"></a>형태 기사로 송고할 수 있다.</span>
<span id="cb24-690"><a href="#cb24-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-691"><a href="#cb24-691" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/openai_api_workflow.jpg)</span></span>
<span id="cb24-692"><a href="#cb24-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-693"><a href="#cb24-693" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-694"><a href="#cb24-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-695"><a href="#cb24-695" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-696"><a href="#cb24-696" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb24-697"><a href="#cb24-697" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb24-698"><a href="#cb24-698" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb24-699"><a href="#cb24-699" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb24-700"><a href="#cb24-700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-701"><a href="#cb24-701" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb24-702"><a href="#cb24-702" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb24-703"><a href="#cb24-703" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb24-704"><a href="#cb24-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-705"><a href="#cb24-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-706"><a href="#cb24-706" aria-hidden="true" tabindex="-1"></a><span class="co"># 연설문 불러오기 --------------------------</span></span>
<span id="cb24-707"><a href="#cb24-707" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;data/stt_audio_gpt4.txt&quot;</span>, <span class="st">&quot;r&quot;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb24-708"><a href="#cb24-708" aria-hidden="true" tabindex="-1"></a>    speech_content <span class="op">=</span> <span class="bu">file</span>.read()</span>
<span id="cb24-709"><a href="#cb24-709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-710"><a href="#cb24-710" aria-hidden="true" tabindex="-1"></a>prompt <span class="op">=</span> <span class="ss">f&#39;다음 텍스트를 뉴스 속보 형태 기사로 엄중한 문체로 100자 내외로 짧게 작성해주세요.. </span><span class="ch">\n\n</span><span class="sc">{</span>speech_content<span class="sc">}</span><span class="ss">&#39;</span></span>
<span id="cb24-711"><a href="#cb24-711" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-712"><a href="#cb24-712" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb24-713"><a href="#cb24-713" aria-hidden="true" tabindex="-1"></a>breaking_news_response <span class="op">=</span> openai.ChatCompletion.create(</span>
<span id="cb24-714"><a href="#cb24-714" aria-hidden="true" tabindex="-1"></a>  model       <span class="op">=</span> <span class="st">&quot;gpt-3.5-turbo&quot;</span>,</span>
<span id="cb24-715"><a href="#cb24-715" aria-hidden="true" tabindex="-1"></a>  messages    <span class="op">=</span> [</span>
<span id="cb24-716"><a href="#cb24-716" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;system&quot;</span>, <span class="st">&quot;content&quot;</span>: <span class="st">&quot;You are a Korean reporter.&quot;</span>},</span>
<span id="cb24-717"><a href="#cb24-717" aria-hidden="true" tabindex="-1"></a>    {<span class="st">&quot;role&quot;</span>: <span class="st">&quot;user&quot;</span>, <span class="st">&quot;content&quot;</span>: prompt}</span>
<span id="cb24-718"><a href="#cb24-718" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb24-719"><a href="#cb24-719" aria-hidden="true" tabindex="-1"></a>  max_tokens   <span class="op">=</span> <span class="dv">800</span>,</span>
<span id="cb24-720"><a href="#cb24-720" aria-hidden="true" tabindex="-1"></a>  temperature  <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb24-721"><a href="#cb24-721" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-722"><a href="#cb24-722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-723"><a href="#cb24-723" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(breaking_news_response[<span class="st">&quot;choices&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;message&#39;</span>][<span class="st">&#39;content&#39;</span>])</span>
<span id="cb24-724"><a href="#cb24-724" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-725"><a href="#cb24-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-726"><a href="#cb24-726" aria-hidden="true" tabindex="-1"></a><span class="in">```         </span></span>
<span id="cb24-727"><a href="#cb24-727" aria-hidden="true" tabindex="-1"></a><span class="in">[속보] 3.1절 맞아 국민에게 경의 표한</span></span>
<span id="cb24-728"><a href="#cb24-728" aria-hidden="true" tabindex="-1"></a><span class="in">오늘 84번째 3.1절을 맞아 애국선열들에게 감사와 경의를 표합니다. 독립유공자와 유가족에게도 존경과 감사의 말씀을 전합니다. 102년 전 오늘, 우리는 일제의 총칼에 맞서 독립을 위해 일어섰습니다. 3.1운동을 계기로 국내외의 독립투쟁은 더욱 힘차게 전개되었습니다. 오늘의 참여정부는 역사의 연장선 위에 서 있으며, 한반도의 평화를 정착시키는 일이 중요합니다. 국민 모두가 참된 주인으로서 국정에 참여하고 개혁을 추진해야 합니다.</span></span>
<span id="cb24-729"><a href="#cb24-729" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-730"><a href="#cb24-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-731"><a href="#cb24-731" aria-hidden="true" tabindex="-1"></a><span class="fu"># AI 이미지</span></span>
<span id="cb24-732"><a href="#cb24-732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-733"><a href="#cb24-733" aria-hidden="true" tabindex="-1"></a>AI 이미지 생성 프롬프트를 작성하고, [DALL·E 2 -</span>
<span id="cb24-734"><a href="#cb24-734" aria-hidden="true" tabindex="-1"></a>OpenAI](https://openai.com/dall-e-2) <span class="in">`openai.Image.create()`</span> 함수를</span>
<span id="cb24-735"><a href="#cb24-735" aria-hidden="true" tabindex="-1"></a>사용하면 AI 이미지를 생성할 수 있다.</span>
<span id="cb24-736"><a href="#cb24-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-737"><a href="#cb24-737" aria-hidden="true" tabindex="-1"></a>서울 강남 거리를 AI 이미지로 생성해보자.</span>
<span id="cb24-738"><a href="#cb24-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-739"><a href="#cb24-739" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; 프롬프트: streets of Gangnam Seoul Korea, summertime, bright and</span></span>
<span id="cb24-740"><a href="#cb24-740" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; beautiful, cinematic landscape</span></span>
<span id="cb24-741"><a href="#cb24-741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-742"><a href="#cb24-742" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-743"><a href="#cb24-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-744"><a href="#cb24-744" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-745"><a href="#cb24-745" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb24-746"><a href="#cb24-746" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb24-747"><a href="#cb24-747" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb24-748"><a href="#cb24-748" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb24-749"><a href="#cb24-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-750"><a href="#cb24-750" aria-hidden="true" tabindex="-1"></a><span class="co"># API KEY ----------------------</span></span>
<span id="cb24-751"><a href="#cb24-751" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb24-752"><a href="#cb24-752" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&#39;OPENAI_API_KEY&#39;</span>)</span>
<span id="cb24-753"><a href="#cb24-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-754"><a href="#cb24-754" aria-hidden="true" tabindex="-1"></a><span class="co"># 프롬프트 ----------------------</span></span>
<span id="cb24-755"><a href="#cb24-755" aria-hidden="true" tabindex="-1"></a>prompt <span class="op">=</span> <span class="st">&quot;streets of Gangnam Seoul Korea, summertime, bright and beautiful, cinematic landscape&quot;</span></span>
<span id="cb24-756"><a href="#cb24-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-757"><a href="#cb24-757" aria-hidden="true" tabindex="-1"></a>gangnam_response <span class="op">=</span> openai.Image.create(</span>
<span id="cb24-758"><a href="#cb24-758" aria-hidden="true" tabindex="-1"></a>    prompt<span class="op">=</span>prompt,</span>
<span id="cb24-759"><a href="#cb24-759" aria-hidden="true" tabindex="-1"></a>    model<span class="op">=</span><span class="st">&quot;image-alpha-001&quot;</span>,</span>
<span id="cb24-760"><a href="#cb24-760" aria-hidden="true" tabindex="-1"></a>    size<span class="op">=</span><span class="st">&quot;1024x1024&quot;</span>,</span>
<span id="cb24-761"><a href="#cb24-761" aria-hidden="true" tabindex="-1"></a>    response_format<span class="op">=</span><span class="st">&quot;url&quot;</span></span>
<span id="cb24-762"><a href="#cb24-762" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-763"><a href="#cb24-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-764"><a href="#cb24-764" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gangnam_response[<span class="st">&quot;data&quot;</span>][<span class="dv">0</span>][<span class="st">&quot;url&quot;</span>])</span>
<span id="cb24-765"><a href="#cb24-765" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-766"><a href="#cb24-766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-767"><a href="#cb24-767" aria-hidden="true" tabindex="-1"></a>AI 생성이미지 바로가기:</span>
<span id="cb24-768"><a href="#cb24-768" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://oaidalleapiprodscus.blob.core.windows.net/private/org-GpPkNlGHcRh9i7pQIlhT18p7/user-Qkv0ntrn5tQoUu6pocAidY5V/img-BHSmfeMCmONIkrl3nSHIZIR7.png?st=2023-07-21T05%3A08%3A01Z&amp;se=2023-07-21T07%3A08%3A01Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-07-20T20%3A06%3A58Z&amp;ske=2023-07-21T20%3A06%3A58Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=8G4gBoBYYHoklBNVR1ggHiURZulcxJ62y0YjJ/OJfkM%3D&gt;</span></span>
<span id="cb24-769"><a href="#cb24-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-770"><a href="#cb24-770" aria-hidden="true" tabindex="-1"></a><span class="fu">## AI 이미지 후처리</span></span>
<span id="cb24-771"><a href="#cb24-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-772"><a href="#cb24-772" aria-hidden="true" tabindex="-1"></a>웹에 이미지가 걸려있어 이를 로컬 파일로 다운로드 받아 후속 작업에 활용할</span>
<span id="cb24-773"><a href="#cb24-773" aria-hidden="true" tabindex="-1"></a>수 있도록 코드를 작성한다.</span>
<span id="cb24-774"><a href="#cb24-774" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-775"><a href="#cb24-775" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-776"><a href="#cb24-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-777"><a href="#cb24-777" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-778"><a href="#cb24-778" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb24-779"><a href="#cb24-779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-780"><a href="#cb24-780" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb24-781"><a href="#cb24-781" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> PIL <span class="im">import</span> Image</span>
<span id="cb24-782"><a href="#cb24-782" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> io</span>
<span id="cb24-783"><a href="#cb24-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-784"><a href="#cb24-784" aria-hidden="true" tabindex="-1"></a><span class="co"># 이미지 URL</span></span>
<span id="cb24-785"><a href="#cb24-785" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">&quot;https://oaidalleapiprodscus.blob.core.windows.net/private/org-GpPkNlGHcRh9i7pQIlhT18p7/user-Qkv0ntrn5tQoUu6pocAidY5V/img-BHSmfeMCmONIkrl3nSHIZIR7.png?st=2023-07-21T05%3A08%3A01Z&amp;se=2023-07-21T07%3A08%3A01Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-07-20T20%3A06%3A58Z&amp;ske=2023-07-21T20%3A06%3A58Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=8G4gBoBYYHoklBNVR1ggHiURZulcxJ62y0YjJ/OJfkM%3D&quot;</span></span>
<span id="cb24-786"><a href="#cb24-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-787"><a href="#cb24-787" aria-hidden="true" tabindex="-1"></a><span class="co"># GET 요청</span></span>
<span id="cb24-788"><a href="#cb24-788" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb24-789"><a href="#cb24-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-790"><a href="#cb24-790" aria-hidden="true" tabindex="-1"></a><span class="co"># 이미지 가져오기</span></span>
<span id="cb24-791"><a href="#cb24-791" aria-hidden="true" tabindex="-1"></a>image <span class="op">=</span> Image.<span class="bu">open</span>(io.BytesIO(response.content))</span>
<span id="cb24-792"><a href="#cb24-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-793"><a href="#cb24-793" aria-hidden="true" tabindex="-1"></a><span class="co"># 이미지 JPEG 변환</span></span>
<span id="cb24-794"><a href="#cb24-794" aria-hidden="true" tabindex="-1"></a>image.save(<span class="st">&#39;images/dalle_image.jpeg&#39;</span>, <span class="st">&#39;JPEG&#39;</span>)</span>
<span id="cb24-795"><a href="#cb24-795" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-796"><a href="#cb24-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-797"><a href="#cb24-797" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/dalle_image.jpeg)</span></span>
<span id="cb24-798"><a href="#cb24-798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-799"><a href="#cb24-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-800"><a href="#cb24-800" aria-hidden="true" tabindex="-1"></a><span class="fu"># 임베딩</span></span>
<span id="cb24-801"><a href="#cb24-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-802"><a href="#cb24-802" aria-hidden="true" tabindex="-1"></a>**임베딩(Embedding)** 일반적으로 실수 벡터의 형태로 텍스트 데이터를</span>
<span id="cb24-803"><a href="#cb24-803" aria-hidden="true" tabindex="-1"></a>수치로 표현한 것으로, 이를 통해서 표현된 벡터는 연속적인 벡터 공간에서</span>
<span id="cb24-804"><a href="#cb24-804" aria-hidden="true" tabindex="-1"></a>텍스트 데이터에 내재된 의미(semantic)를 포착한다.</span>
<span id="cb24-805"><a href="#cb24-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-806"><a href="#cb24-806" aria-hidden="true" tabindex="-1"></a>실용적인 관점에서 임베딩은 실제 객체와 관계를 벡터로 표현하는 방식이다.</span>
<span id="cb24-807"><a href="#cb24-807" aria-hidden="true" tabindex="-1"></a>동일한 벡터 공간을 사용하여 두 사물이 얼마나 유사한지 측정하는 데</span>
<span id="cb24-808"><a href="#cb24-808" aria-hidden="true" tabindex="-1"></a>사용한다.</span>
<span id="cb24-809"><a href="#cb24-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-810"><a href="#cb24-810" aria-hidden="true" tabindex="-1"></a><span class="fu">## 텍스트 벡터 표현</span></span>
<span id="cb24-811"><a href="#cb24-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-812"><a href="#cb24-812" aria-hidden="true" tabindex="-1"></a><span class="in">`text-embedding-ada-002`</span> 모델은 빠르고 가성비가 뛰어난 임베딩 모델이다.</span>
<span id="cb24-813"><a href="#cb24-813" aria-hidden="true" tabindex="-1"></a>&quot;대한민국 수도는 서울입니다.&quot; 이라는 문서를 벡터로 표현하면 다음과 같다.</span>
<span id="cb24-814"><a href="#cb24-814" aria-hidden="true" tabindex="-1"></a>즉, 1,536 차원을 갖는 공간에 하나의 점으로 표현될 수 있다.</span>
<span id="cb24-815"><a href="#cb24-815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-816"><a href="#cb24-816" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-817"><a href="#cb24-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-818"><a href="#cb24-818" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-819"><a href="#cb24-819" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb24-820"><a href="#cb24-820" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-821"><a href="#cb24-821" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb24-822"><a href="#cb24-822" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb24-823"><a href="#cb24-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-824"><a href="#cb24-824" aria-hidden="true" tabindex="-1"></a>openai.api_key <span class="op">=</span> os.getenv(<span class="st">&quot;OPENAI_API_KEY&quot;</span>)</span>
<span id="cb24-825"><a href="#cb24-825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-826"><a href="#cb24-826" aria-hidden="true" tabindex="-1"></a>seoul_response <span class="op">=</span> openai.Embedding.create(</span>
<span id="cb24-827"><a href="#cb24-827" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span><span class="st">&quot;text-embedding-ada-002&quot;</span>,</span>
<span id="cb24-828"><a href="#cb24-828" aria-hidden="true" tabindex="-1"></a>  <span class="bu">input</span><span class="op">=</span><span class="st">&quot;대한민국 수도는 서울입니다.&quot;</span>,</span>
<span id="cb24-829"><a href="#cb24-829" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-830"><a href="#cb24-830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-831"><a href="#cb24-831" aria-hidden="true" tabindex="-1"></a>seoul_embedding <span class="op">=</span> seoul_response[<span class="st">&quot;data&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;embedding&#39;</span>]</span>
<span id="cb24-832"><a href="#cb24-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-833"><a href="#cb24-833" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;벡터길이: </span><span class="sc">{</span><span class="bu">len</span>(seoul_embedding)<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb24-834"><a href="#cb24-834" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 벡터길이: 1536</span></span>
<span id="cb24-835"><a href="#cb24-835" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;벡터 일부: </span><span class="sc">{</span>seoul_embedding[:<span class="dv">10</span>]<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb24-836"><a href="#cb24-836" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 벡터 일부: [0.014582998119294643, -0.018063032999634743, 0.004872684367001057, -0.013805408962070942, -0.031180081889033318, 0.025176068767905235, -0.034519895911216736, 0.011357911862432957, -0.007960736751556396, -0.0020682618487626314]</span></span>
<span id="cb24-837"><a href="#cb24-837" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-838"><a href="#cb24-838" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-839"><a href="#cb24-839" aria-hidden="true" tabindex="-1"></a>마찬가지로 일본의 수도 도쿄도 벡터로 표현할 수 있다.</span>
<span id="cb24-840"><a href="#cb24-840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-841"><a href="#cb24-841" aria-hidden="true" tabindex="-1"></a>quarto-executable-code-5450563D</span>
<span id="cb24-842"><a href="#cb24-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-843"><a href="#cb24-843" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb24-844"><a href="#cb24-844" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb24-845"><a href="#cb24-845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-846"><a href="#cb24-846" aria-hidden="true" tabindex="-1"></a>tokyo_response <span class="op">=</span> openai.Embedding.create(</span>
<span id="cb24-847"><a href="#cb24-847" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span><span class="st">&quot;text-embedding-ada-002&quot;</span>,</span>
<span id="cb24-848"><a href="#cb24-848" aria-hidden="true" tabindex="-1"></a>  <span class="bu">input</span><span class="op">=</span><span class="st">&quot;일본 수도는 동경입니다.&quot;</span>,</span>
<span id="cb24-849"><a href="#cb24-849" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-850"><a href="#cb24-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-851"><a href="#cb24-851" aria-hidden="true" tabindex="-1"></a>tokyo_embedding <span class="op">=</span> tokyo_response[<span class="st">&quot;data&quot;</span>][<span class="dv">0</span>][<span class="st">&#39;embedding&#39;</span>]</span>
<span id="cb24-852"><a href="#cb24-852" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;벡터길이: </span><span class="sc">{</span><span class="bu">len</span>(tokyo_embedding)<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb24-853"><a href="#cb24-853" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 벡터길이: 1536</span></span>
<span id="cb24-854"><a href="#cb24-854" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;벡터 일부: </span><span class="sc">{</span>tokyo_embedding[:<span class="dv">10</span>]<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb24-855"><a href="#cb24-855" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 벡터 일부: [0.010957648046314716, -0.013234060257673264, 0.009729413315653801, -0.011890077032148838, -0.03179261088371277, 0.03436483070254326, -0.029786281287670135, 0.008629790507256985, 0.01711810939013958, -0.0014733985299244523]</span></span>
<span id="cb24-856"><a href="#cb24-856" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id = "quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "복사완료!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "복사완료!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <div class='footer-contents'>[Quarto](https://quarto.org/) 개발
</div>  
    </div>   
    <div class="nav-footer-center">
      <div class='footer-contents'>[한국 R 사용자회](mailto:admin@r2bit.com)
</div>  
    </div>
    <div class="nav-footer-right">
      <div class='footer-contents'>[Github 코드 저장소](https://github.com/bit2r/chatGPT)
</div>  
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"loop":true,"closeEffect":"zoom","descPosition":"bottom","openEffect":"zoom","selector":".lightbox"});</script>

</body>

</html>
