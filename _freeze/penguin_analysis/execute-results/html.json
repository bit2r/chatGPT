{
  "hash": "39a1adedfb91dadb4674e725dfa00dae",
  "result": {
    "markdown": "---\ntitle: Analysis of Penguin Data\n---\n\nThis notebook presents an analysis of a dataset containing measurements of penguins.\nThe goal is to investigate the existence of Simpson's Paradox in the data.\n\nSimpson's Paradox is a phenomenon in probability and statistics, in which a trend appears in different groups of data but disappears or reverses when these groups are combined.\n\n\n## Import Necessary Libraries\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n```\n:::\n\n\n## Load the Dataset\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\n# Load the dataset\ndf = pd.read_csv('data/penguins.csv')\n```\n:::\n\n\n## Check Correlations Within Each Species for Culmen Length and Depth\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\n# Check correlations within each species for culmen_length_mm and culmen_depth_mm\nspecies_list = df['species'].unique()\nfor species in species_list:\n    print(f\"Correlation within {species} species:\")\n    print(df[df['species'] == species][['bill_length_mm', 'bill_depth_mm']].corr())\n    print(\"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCorrelation within Adelie species:\n                bill_length_mm  bill_depth_mm\nbill_length_mm        1.000000       0.391492\nbill_depth_mm         0.391492       1.000000\n\n\nCorrelation within Gentoo species:\n                bill_length_mm  bill_depth_mm\nbill_length_mm        1.000000       0.643384\nbill_depth_mm         0.643384       1.000000\n\n\nCorrelation within Chinstrap species:\n                bill_length_mm  bill_depth_mm\nbill_length_mm        1.000000       0.653536\nbill_depth_mm         0.653536       1.000000\n\n\n```\n:::\n:::\n\n\n## Calculate the Overall Correlation Between Culmen Length and Depth\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\n# Calculate the overall correlation between bill_length_mm and bill_depth_mm\noverall_corr = df[['bill_length_mm', 'bill_depth_mm']].corr().iloc[0, 1]\noverall_corr\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```\n-0.2350528703555336\n```\n:::\n:::\n\n\n## Create Scatter Plot\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\n# Create a figure and axis\nfig, ax = plt.subplots(figsize=(10, 8))\n\n# Overall regression line\nsns.regplot(x='bill_length_mm', y='bill_depth_mm', data=df, scatter=False, \n            line_kws={'color': 'black', 'label': \"Overall regression line\"})\n\n# Loop through each species\nfor species in species_list:\n    species_data = df[df['species'] == species]\n    sns.scatterplot(x='bill_length_mm', y='bill_depth_mm', data=species_data, label=species)\n    sns.regplot(x='bill_length_mm', y='bill_depth_mm', data=species_data, scatter=False, \n                line_kws={'label': f\"{species} regression line\"})\n\nplt.title('Bill Depth vs Bill Length')\nplt.xlabel('Bill Length (mm)')\nplt.ylabel('Bill Depth (mm)')\n\n# Add legend\nplt.legend()\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](penguin_analysis_files/figure-html/cell-6-output-1.png){width=808 height=671}\n:::\n:::\n\n\n## Create Separate Scatter Plots with Regression Lines for Each Species\n\n::: {.cell execution_count=6}\n``` {.python .cell-code}\n# Create a figure and axis\nfig, axs = plt.subplots(3, 1, figsize=(10, 20))\n\n# Loop through each species\nfor ax, species in zip(axs, species_list):\n    species_data = df[df['species'] == species]\n    sns.regplot(x='bill_length_mm', y='bill_depth_mm', data=species_data, ax=ax, \n                line_kws={'label': f\"{species} regression line\"})\n    ax.set_title(f'{species} Penguins')\n    ax.set_xlabel('Bill Length (mm)')\n    ax.set_ylabel('Bill Depth (mm)')\n    ax.legend()\n\nplt.tight_layout()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](penguin_analysis_files/figure-html/cell-7-output-1.png){width=949 height=1908}\n:::\n:::\n\n\n",
    "supporting": [
      "penguin_analysis_files"
    ],
    "filters": [],
    "includes": {}
  }
}